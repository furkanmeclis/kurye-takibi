import{r as o,j as n,L as $,w as ye,D as le,C as ce,P as ue,d as he,m as I,c as T,O as B,q as U,b as ne,y as z,T as _e,R as pe,g as De,U as He,k as Le,t as me,n as Be,u as W,B as ve,E as $e,h as Fe}from"./app-Dbk8n-uA.js";import{P as Ke}from"./PersonalInformation-CqC-Xqpm.js";import{P as ze}from"./PersonalInformation-DEFbDOaG.js";import{F as Ue,I as Ye}from"./inputtext.esm-EYuhZLNa.js";import{S as We}from"./styleclass.esm-B7AWbbFe.js";import{S as Xe}from"./sidebar.esm-BTFoFMI-.js";import{C as Ve,a as qe,M as Je,S as Ge}from"./message.esm-BokLF7E4.js";import{A as Qe,C as Ze,k as et}from"./ActiveOrder-CeIhvmYC.js";import{T as tt}from"./toast.esm-sRjLTCIT.js";const de=o.createContext({}),xe=e=>{const[t,s]=o.useState(""),a={activeMenu:t,setActiveMenu:s};return n.jsx(de.Provider,{value:a,children:e.children})},nt=({target:e,overlay:t,container:s,when:a})=>{const{isSlim:l,isSlimPlus:f,isHorizontal:c,setLayoutState:d}=o.useContext($),{activeMenu:u}=o.useContext(de),y=()=>{d(S=>({...S,overlayMenuActive:!1,overlaySubmenuActive:!1,staticMenuMobileActive:!1,menuHoverActive:!1,resetMenu:!0}))},[g,A]=ye({type:"scroll",target:s,listener:y}),P=()=>{if(t&&e){const{left:S,top:w}=e.getBoundingClientRect(),{width:E,height:r}=le.getViewport(),[b,O]=[t.offsetWidth,t.offsetHeight],v=le.calculateScrollbarWidth(s),R=document.querySelector(".layout-topbar"),N=(R==null?void 0:R.offsetHeight)||0;if(t.style.top=t.style.left="",c()){const m=S+b+v;t.style.left=E<m?`${S-(m-E)}px`:`${S}px`}else if(l()||f()){const m=w-N,p=m+O+N;t.style.top=r<p?`${m-(p-r)}px`:`${m}px`}}};o.useEffect(()=>(a&&g(),()=>{A()}),[a]),o.useEffect(()=>{a&&P()},[a,u])};function X(e){"@babel/helpers - typeof";return X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(e)}function rt(e,t){if(X(e)!=="object"||e===null)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(X(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function st(e){var t=rt(e,"string");return X(t)==="symbol"?t:String(t)}function je(e,t,s){return t=st(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var at={root:function(t){var s=t.props;return T("p-badge p-component",je({"p-badge-no-gutter":B.isNotEmpty(s.value)&&String(s.value).length===1,"p-badge-dot":B.isEmpty(s.value),"p-badge-lg":s.size==="large","p-badge-xl":s.size==="xlarge"},"p-badge-".concat(s.severity),s.severity!==null))}},ot=`
@layer primereact {
    .p-badge {
        display: inline-block;
        border-radius: 10px;
        text-align: center;
        padding: 0 .5rem;
    }
    
    .p-overlay-badge {
        position: relative;
    }
    
    .p-overlay-badge .p-badge {
        position: absolute;
        top: 0;
        right: 0;
        transform: translate(50%,-50%);
        transform-origin: 100% 0;
        margin: 0;
    }
    
    .p-badge-dot {
        width: .5rem;
        min-width: .5rem;
        height: .5rem;
        border-radius: 50%;
        padding: 0;
    }
    
    .p-badge-no-gutter {
        padding: 0;
        border-radius: 50%;
    }
}
`,ee=ce.extend({defaultProps:{__TYPE:"Badge",__parentMetadata:null,value:null,severity:null,size:null,style:null,className:null,children:void 0},css:{classes:at,styles:ot}});function fe(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),s.push.apply(s,a)}return s}function lt(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?fe(Object(s),!0).forEach(function(a){je(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):fe(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}var Se=o.memo(o.forwardRef(function(e,t){var s=o.useContext(ue),a=ee.getProps(e,s),l=ee.setMetaData(lt({props:a},a.__parentMetadata)),f=l.ptm,c=l.cx,d=l.isUnstyled;he(ee.css.styles,d,{name:"badge"});var u=o.useRef(null);o.useImperativeHandle(t,function(){return{props:a,getElement:function(){return u.current}}});var y=I({ref:u,style:a.style,className:T(a.className,c("root"))},ee.getOtherProps(a),f("root"));return o.createElement("span",y,a.value)}));Se.displayName="Badge";const Ne=e=>{const{activeMenu:t,setActiveMenu:s}=o.useContext(de),{isSlim:a,isSlimPlus:l,isHorizontal:f,isDesktop:c,setLayoutState:d,layoutState:u,layoutConfig:y,openTab:g,tabs:A}=o.useContext($),P=window.location.href,S="useSearchParams()",w=o.useRef(null),E=o.useRef(null),r=e.item,b=e.parentKey?e.parentKey+"-"+e.index:String(e.index),O=r.to&&P===r.to,v=t===b||!!(t&&t.startsWith(b+"-"));nt({target:E.current,overlay:w.current,container:E.current&&E.current.closest(".layout-menu-container"),when:e.root&&v&&(a()||l()||f())&&c()}),o.useEffect(()=>{u.resetMenu&&(s(""),d(p=>({...p,resetMenu:!1})))},[u.resetMenu]),o.useEffect(()=>{!(a()||l()||f())&&O&&s(b);const p=P+S.toString();(()=>{!(a()||f())&&r.to&&r.to===p&&s(b)})()},[P,S,y]);const R=p=>{var C;if(r.disabled){p.preventDefault();return}if(e.root&&(a()||f()||l())){const j=p.currentTarget.closest(".layout-root-menuitem.active-menuitem > ul")!==null;d(j?D=>({...D,menuHoverActive:!0}):D=>({...D,menuHoverActive:!D.menuHoverActive}))}r!=null&&r.command&&(r==null||r.command({originalEvent:p,item:r})),p.metaKey&&(r!=null&&r.to)&&(!(r!=null&&r.data)||!((C=r==null?void 0:r.data)!=null&&C.fullPage))&&(z.visit(r.to),g(r),p.preventDefault()),r!=null&&r.items?(s(v?e.parentKey:b),e.root&&!v&&(a()||f()||l())&&d(j=>({...j,overlaySubmenuActive:!0}))):(c()||d(j=>({...j,staticMenuMobileActive:!j.staticMenuMobileActive})),(a()||l()||f())&&d(j=>({...j,menuHoverActive:!1})),s(b))},N=()=>{e.root&&(a()||f()||l())&&c()&&!v&&u.menuHoverActive&&s(b)},m=r!=null&&r.items&&(r==null?void 0:r.visible)!==!1?n.jsx("ul",{ref:w,className:T({"layout-root-submenulist":e.root}),children:r==null?void 0:r.items.map((p,C)=>n.jsx(Ne,{item:p,index:C,className:p.badgeClass,parentKey:b},p.label))}):null;return n.jsxs("li",{ref:E,className:T({"layout-root-menuitem":e.root,"active-menuitem":v}),children:[e.root&&(r==null?void 0:r.visible)!==!1&&n.jsx("div",{className:"layout-menuitem-root-text",children:n.jsx("span",{children:r==null?void 0:r.label})}),(!(r!=null&&r.to)||r!=null&&r.items)&&(r==null?void 0:r.visible)!==!1?n.jsx(n.Fragment,{children:n.jsxs("a",{href:r==null?void 0:r.url,onClick:p=>R(p),className:T(r==null?void 0:r.class,"p-ripple tooltip-target"),target:r==null?void 0:r.target,"data-pr-tooltip":r==null?void 0:r.label,"data-pr-disabled":!(a()&&e.root&&!u.menuHoverActive),tabIndex:0,onMouseEnter:N,children:[n.jsx("i",{className:T("layout-menuitem-icon",r==null?void 0:r.icon)}),n.jsx("span",{className:"layout-menuitem-text",children:r==null?void 0:r.label}),(r==null?void 0:r.items)&&n.jsx("i",{className:"pi pi-fw pi-angle-down layout-submenu-toggler"}),n.jsx(U,{})]})}):null,r!=null&&r.to&&!(r!=null&&r.items)&&(r==null?void 0:r.visible)!==!1?n.jsx(n.Fragment,{children:n.jsxs(ne,{href:r==null?void 0:r.to,replace:r==null?void 0:r.replaceUrl,onClick:p=>R(p),className:T(r==null?void 0:r.class,"p-ripple ",{"active-route":O}),tabIndex:0,onMouseEnter:N,children:[n.jsx("i",{className:T("layout-menuitem-icon",r==null?void 0:r.icon)}),n.jsx("span",{className:"layout-menuitem-text",children:r==null?void 0:r.label}),(r==null?void 0:r.badge)&&n.jsx(Se,{value:r==null?void 0:r.badge,severity:"danger",className:"right-0 absolute "+((r==null?void 0:r.badgeClassName)??""),style:r==null?void 0:r.badgeStyle}),(r==null?void 0:r.items)&&n.jsx("i",{className:"pi pi-fw pi-angle-down layout-submenu-toggler"}),n.jsx(U,{})]})}):null,m]})},it=e=>{const{layoutState:t,setBreadcrumbs:s,auth:a}=o.useContext($),l=o.useRef(null);o.useEffect(()=>{l.current&&(l.current.hide(),l.current.updateTargetEvents())},[t.overlaySubmenuActive]),o.useEffect(()=>{f(e.model)},[]);const f=d=>{let u=[];const y=(g,A=[])=>{const{label:P,to:S,items:w}=g;P&&A.push(P),w&&w.forEach(E=>{y(E,A.slice())}),S&&u.push({labels:A,to:S})};d.forEach(g=>{y(g)}),s(u)},c=d=>{var g;let u=d.roles||["*"];if(u.includes("*"))return!0;let y=(g=a==null?void 0:a.user)==null?void 0:g.role;return y?u.includes(y):!1};return n.jsxs(xe,{children:[n.jsx("ul",{className:"layout-menu",children:e.model.map((d,u)=>c(d)?d.seperator?n.jsx("li",{className:"menu-separator"}):n.jsx(Ne,{item:d,root:!0,index:u},d.label):null)}),n.jsx(_e,{ref:l,target:"li:not(.active-menuitem)>.tooltip-target"})]})},ct=()=>{const e=[{label:"Anasayfa",icon:"pi pi-home",roles:["*"],items:[{label:"Anasayfa",icon:"pi pi-fw pi-home",to:route("dashboard")}]},{label:"Kuryeler",icon:"pi pi-users",roles:["admin"],items:[{label:"Yeni Ekle",icon:"pi pi-fw pi-user-plus",to:route("admin.couriers.create")},{label:"Onay Bekleyenler",icon:"pi pi-fw pi-clock",to:route("admin.couriers.waitApproval")},{label:"Kuryeler",icon:"pi pi-fw pi-users",to:route("admin.couriers.index")}]},{label:"İşletmeler",icon:"pi pi-shop",roles:["admin"],items:[{label:"Yeni Ekle",icon:"pi pi-fw pi-plus-circle",to:route("admin.businesses.create")},{label:"Onay Bekleyenler",icon:"pi pi-fw pi-clock",to:route("admin.businesses.waitApproval")},{label:"İşletmeler",icon:"pi pi-fw pi-home",to:route("admin.businesses.index")}]},{label:"Siparişler",icon:"pi pi-shopping-cart",roles:["admin"],items:[{label:"İptal İşlemleri",icon:"pi pi-fw pi-hourglass",to:route("admin.orders.cancellationRequests")},{label:"Siparişler",icon:"pi pi-fw pi-shopping-cart",to:route("admin.orders.index")}]},{label:"Müşteriler",icon:"pi pi-users",roles:["business"],items:[{label:"Müşteri Ekle",icon:"pi pi-fw pi-user-plus",to:route("business.customers.create")},{label:"Müşteriler",icon:"pi pi-fw pi-users",to:route("business.customers.index")}]},{label:"Siparişler",icon:"pi pi-shopping-cart",roles:["business"],items:[{label:"Sipariş Ekle",icon:"pi pi-fw pi-cart-plus",to:route("business.orders.create")},{label:"Siparişler",icon:"pi pi-fw pi-shopping-cart",to:route("business.orders.index")}]},{label:"Siparişler",icon:"pi pi-shopping-cart",roles:["courier"],items:[{label:"Yeni Siparişler",icon:"pi pi-fw pi-shopping-cart",to:route("courier.orders.newOrders")},{label:"Geçmiş Siparişler",icon:"pi pi-fw pi-history",to:route("courier.orders.pastOrders")}]}];return n.jsx(it,{model:e})},Ce=()=>(o.useContext($),n.jsx(pe.Fragment,{children:n.jsx("div",{className:"layout-menu-container",children:n.jsx(xe,{children:n.jsx(ct,{})})})}));Ce.displayName="AppSidebar";function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},re.apply(this,arguments)}function ie(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}function ut(e){if(Array.isArray(e))return ie(e)}function pt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function we(e,t){if(e){if(typeof e=="string")return ie(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return ie(e,t)}}function dt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mt(e){return ut(e)||pt(e)||we(e)||dt()}function V(e){"@babel/helpers - typeof";return V=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(e)}function ft(e,t){if(V(e)!=="object"||e===null)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(V(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bt(e){var t=ft(e,"string");return V(t)==="symbol"?t:String(t)}function gt(e,t,s){return t=bt(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function yt(e){if(Array.isArray(e))return e}function ht(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,l,f,c,d=[],u=!0,y=!1;try{if(f=(s=s.call(e)).next,t!==0)for(;!(u=(a=f.call(s)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(g){y=!0,l=g}finally{try{if(!u&&s.return!=null&&(c=s.return(),Object(c)!==c))return}finally{if(y)throw l}}return d}}function vt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function be(e,t){return yt(e)||ht(e,t)||we(e,t)||vt()}var xt={root:"p-accordion p-component",tab:{root:function(t){var s=t.selected;return T("p-accordion-tab",{"p-accordion-tab-active":s})},content:"p-accordion-content",header:function(t){var s=t.selected,a=t.getTabProp,l=t.tab;return T("p-accordion-header",{"p-highlight":s,"p-disabled":a(l,"disabled")})},headeraction:"p-accordion-header-link",headericon:"p-accordion-toggle-icon",headertitle:"p-accordion-header-text",toggleablecontent:"p-toggleable-content",transition:"p-toggleable-content"}},jt=`
@layer primereact {
    .p-accordion-header-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        user-select: none;
        position: relative;
        text-decoration: none;
    }
    
    .p-accordion-header-link:focus {
        z-index: 1;
    }
    
    .p-accordion-header-text {
        line-height: 1;
    }
}
`,te=ce.extend({defaultProps:{__TYPE:"Accordion",id:null,activeIndex:null,className:null,style:null,multiple:!1,expandIcon:null,collapseIcon:null,transitionOptions:null,onTabOpen:null,onTabClose:null,onTabChange:null,children:void 0},css:{classes:xt,styles:jt}}),F=ce.extend({defaultProps:{__TYPE:"AccordionTab",className:null,contentClassName:null,contentStyle:null,disabled:!1,header:null,headerClassName:null,headerStyle:null,headerTemplate:null,style:null,tabIndex:0,children:void 0},getCProp:function(t,s){return B.getComponentProp(t,s,F.defaultProps)},getCProps:function(t){return B.getComponentProps(t,F.defaultProps)},getCOtherProps:function(t){return B.getComponentDiffProps(t,F.defaultProps)}});function ge(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),s.push.apply(s,a)}return s}function K(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?ge(Object(s),!0).forEach(function(a){gt(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ge(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}var Pe=function(){},Te=o.forwardRef(function(e,t){var s=o.useContext(ue),a=te.getProps(e,s),l=o.useState(a.id),f=be(l,2),c=f[0],d=f[1],u=o.useState(a.activeIndex),y=be(u,2),g=y[0],A=y[1],P=o.useRef(null),S=a.onTabChange?a.activeIndex:g,w=o.Children.count(a.children),E={props:a,state:{id:c,activeIndex:g}},r=te.setMetaData(K({},E)),b=r.ptm,O=r.ptmo,v=r.cx;r.sx;var R=r.isUnstyled;he(te.css.styles,R,{name:"accordion"});var N=function(i,x,h){F.getCProps(i);var k={parent:E,context:{index:h,count:w,first:h===0,last:h===w-1,selected:C(h),disabled:m(i,"disabled")}};return I(b("accordiontab.".concat(x),{accordiontab:k}),b("accordiontab.".concat(x),k),O(i.props,x,k))},m=function(i,x){return F.getCProp(i,x)},p=function(i,x,h){if(!m(x,"disabled")){var k=C(h),_=null;if(a.multiple){var H=S||[];_=k?H.filter(function(Y){return Y!==h}):[].concat(mt(H),[h])}else _=k?null:h;var L=k?a.onTabClose:a.onTabOpen;L&&L({originalEvent:i,index:h}),a.onTabChange?a.onTabChange({originalEvent:i,index:_}):A(_)}i.preventDefault()},C=function(i){return a.multiple?S&&S.some(function(x){return x===i}):S===i};if(o.useImperativeHandle(t,function(){return{props:a,getElement:function(){return P.current}}}),De(function(){c||d(He())}),!c)return null;var j=function(i,x,h){var k=K(K({},m(i,"style")||{}),m(i,"headerStyle")||{}),_=c+"_header_"+h,H=c+"_content_"+h,L=m(i,"disabled")?-1:m(i,"tabIndex"),Y=I({className:v("tab.headertitle")},N(i,"headertitle",h)),Z=F.getCProps(i),se=m(i,"headerTemplate")?B.getJSXElement(m(i,"headerTemplate"),Z):o.createElement("span",Y,B.getJSXElement(m(i,"header"),Z)),ae=I({className:v("tab.headericon")},N(i,"headericon",h)),Oe=x?a.collapseIcon||o.createElement(Ve,ae):a.expandIcon||o.createElement(qe,ae),Ee=Le.getJSXIcon(Oe,K({},ae),{props:a,selected:x}),Re=x?me("collapseLabel"):me("expandLabel"),ke=I({className:T(m(i,"headerClassName"),m(i,"className"),v("tab.header",{selected:x,getTabProp:m,tab:i})),style:k,"data-p-highlight":x,"data-p-disabled":m(i,"disabled")},N(i,"tab.header",h)),Me=I({id:_,href:"#"+H,className:v("tab.headeraction"),role:"tab",tabIndex:L,onClick:function(Ie){return p(Ie,i,h)},"aria-label":Re,"aria-controls":H,"aria-expanded":x},N(i,"headeraction",h));return o.createElement("div",ke,o.createElement("a",Me,Ee,se))},D=function(i,x,h){var k=K(K({},m(i,"style")||{}),m(i,"contentStyle")||{}),_=c+"_content_"+h,H=c+"_header_"+h,L=o.createRef(),Y=I({id:_,ref:L,className:T(m(i,"contentClassName"),m(i,"className"),v("tab.toggleablecontent")),style:k,role:"region","aria-labelledby":H},N(i,"toggleablecontent",h)),Z=I({className:v("tab.content")},N(i,"content",h)),se=I({classNames:v("tab.transition"),timeout:{enter:1e3,exit:450},in:x,unmountOnExit:!0,options:a.transitionOptions},N(i,"transition",h));return o.createElement(Be,re({nodeRef:L},se),o.createElement("div",Y,o.createElement("div",Z,m(i,"children"))))},q=function(i,x){if(B.isValidChild(i,"AccordionTab")){var h=c+"_"+x,k=C(x),_=j(i,k,x),H=D(i,k,x),L=I({key:h,className:v("tab.root",{selected:k})},F.getCOtherProps(i),N(i,"root",x));return o.createElement("div",L,_,H)}return null},J=function(){return o.Children.map(a.children,q)},G=J(),Q=I({className:T(a.className,v("root")),style:a.style},te.getOtherProps(a),b("root"));return o.createElement("div",re({id:c,ref:P},Q),G)});Pe.displayName="AccordionTab";Te.displayName="Accordion";const St="/build/assets/trendyol-_Of2X5-d.svg",Bt=async e=>{let t=route("business.integrations.getIntegrations"),s=new Headers;return s.append("X-CSRF-TOKEN",e),s.append("Content-Type","application/json"),await(await fetch(t,{method:"POST",headers:s})).json()},$t=async(e,t)=>{let s=route("business.integrations.saveTrendyolSettings"),a=new Headers;return a.append("X-CSRF-TOKEN",t),a.append("Content-Type","application/json"),await(await fetch(s,{method:"POST",headers:a,body:JSON.stringify(e)})).json()},Nt=async e=>{let t=route("business.integrations.getTrendyolRestaurantInfo"),s=new Headers;return s.append("X-CSRF-TOKEN",e),s.append("Content-Type","application/json"),await(await fetch(t,{method:"POST",headers:s})).json()},Ct=async(e,t)=>{let s=route("business.integrations.updateWorkingStatusTrendyol"),a=new Headers;return a.append("X-CSRF-TOKEN",t),a.append("Content-Type","application/json"),await(await fetch(s,{method:"POST",headers:a,body:JSON.stringify({workingStatus:e})})).json()},wt=({csrfToken:e,visible:t,setVisible:s})=>{const[a,l]=W(null,"businessRestaurantInfoActiveIndex"),f=o.useRef(null),[c,d]=o.useState(!1),[u,y]=W(null,"businessRestaurantInfoLastSyncDate"),[g,A]=W(!1,"businessRestaurantInfoTrendyolSettings"),[P,S]=W(!1,"businessRestaurantInfoGetirSettings"),[w,E]=W(!1,"businessRestaurantInfoYemeksepetiSettings"),r=()=>{d(!0),Nt(e).then(b=>{var O;b.status?(A(b.data),y(new Date().toISOString())):(A(!1),(O=f.current)==null||O.show({severity:"error",summary:"Hata",detail:b.message}))}).finally(()=>{d(!1)})};return o.useEffect(()=>{(u&&new Date().getTime()-new Date(u).getTime()>3e5||u===null)&&r();let b=setInterval(()=>{u&&new Date().getTime()-new Date(u).getTime()>3e5&&r()},1e3);return()=>{clearInterval(b)}},[t]),n.jsxs(Xe,{visible:t,position:"right",onHide:()=>s(!1),className:"w-full md:w-20rem lg:w-30rem",header:n.jsx("span",{className:"text-lg font-semibold",children:"Restoran Ayarları"}),icons:n.jsx("button",{className:"p-sidebar-icon p-link mr-2",onClick:()=>r(),children:n.jsx("span",{className:T("pi pi-sync",{"pi-spin":c})})}),children:[n.jsx(tt,{ref:f}),!P&&!g&&!w&&n.jsx(Je,{severity:"warn",text:"Listelenecek restoran ayarı bulunamadı.",className:"w-full"}),n.jsx(Te,{activeIndex:a,onTabChange:b=>{l(b.index)},children:g!==null&&n.jsx(Pe,{header:n.jsxs("span",{className:"flex align-items-center gap-2 w-full",children:[n.jsx(Qe,{image:St,size:"large"}),n.jsx("span",{className:"font-bold white-space-nowrap",children:g.name})]}),children:n.jsxs("div",{className:"flex flex-column gap-2",children:[n.jsx(Ue,{initialValues:{workingStatus:(g==null?void 0:g.workingStatus)==="OPEN"?"Açık":"Kapalı"},onSubmit:(b,{setSubmitting:O,setValues:v,resetForm:R})=>{let N=b.workingStatus==="Açık"?"OPEN":"CLOSED";O(!0),Ct(N,e).then(m=>{var p,C;m.status?((p=f.current)==null||p.show({severity:"success",summary:"Başarılı",detail:m.message}),R({values:{workingStatus:N==="OPEN"?"Açık":"Kapalı"}}),r()):(C=f.current)==null||C.show({severity:"error",summary:"Hata",detail:m.message})}).catch(m=>{var p;console.log(m),(p=f.current)==null||p.show({severity:"error",summary:"Hata",detail:"Bir hata oluştu."})}).finally(()=>{O(!1)})},children:b=>n.jsxs("form",{onSubmit:b.handleSubmit,children:[n.jsx("div",{className:"font-semibold mb-2",children:"Restoran Durumu"}),n.jsx(Ge,{disabled:b.isSubmitting,allowEmpty:!1,options:["Açık","Kapalı"],onChange:O=>{b.setFieldValue("workingStatus",O.value)},value:b.values.workingStatus}),b.dirty&&n.jsx(ve,{label:"Kaydet",icon:"pi pi-save",loading:b.isSubmitting,type:"submit",severity:"success",className:"mt-2",size:"small"})]})}),n.jsxs("div",{className:"flex justify-between gap-2",children:[n.jsx("span",{className:"font-semibold",children:"Son Senkronizasyon"}),n.jsx("span",{children:u?new Date(u).toLocaleString():"Bilgi Yok"})]})]})})})]})},Ae=o.forwardRef((e,t)=>{var R,N,m;const{onMenuToggle:s,layoutConfig:a,tabs:l,closeTab:f,auth:c,csrfToken:d}=o.useContext($),[u,y]=o.useState(!1),g=window.location.pathname,A=o.useRef(null),P=o.useRef(null),S=()=>{s()},w=()=>{y(!0),setTimeout(()=>{const p=document.querySelector(".searchInput");p==null||p.focus()},100)},E=()=>{y(!1)};o.useImperativeHandle(t,()=>({menubutton:A.current}));const r=()=>{const p="/layout/images/logo-";let C;return a.layoutTheme==="primaryColor"&&a.theme!=="yellow"?C="light.png":C=a.colorScheme==="light"?"dark.png":"light.png",p+C};o.useEffect(()=>{r()},[]);const b=p=>{l.length>1?p===(l==null?void 0:l.length)-1?z.visit(l==null?void 0:l[l.length-2].to):z.visit(l==null?void 0:l[p+1].to):z.visit("/"),f(p)},[O,v]=o.useState(!1);return n.jsxs("div",{className:"layout-topbar",children:[n.jsx(ne,{href:route("dashboard"),className:"app-logo",children:n.jsx("img",{alt:"app logo",src:r()})}),n.jsx(wt,{csrfToken:d,visible:O,setVisible:v}),n.jsx("button",{ref:A,className:"topbar-menubutton p-link",type:"button",onClick:S,children:n.jsx("span",{})}),n.jsx("ul",{className:"topbar-menu",children:l.map((p,C)=>n.jsxs("li",{children:[n.jsx(ne,{href:p.to,className:T({"active-route":p.to===g}),children:n.jsx("span",{children:p.label})}),n.jsx("i",{className:"pi pi-times",onClick:()=>b(C)})]},C))}),n.jsx("div",{className:T("topbar-search"),children:n.jsx(ve,{rounded:!0,icon:"pi pi-cog",raised:!0,tooltip:"Restoran Ayarları",tooltipOptions:{position:"bottom"},severity:"secondary",size:"small",onClick:()=>{v(!0)}})}),u===!0&&n.jsxs("div",{className:T("topbar-search",{"topbar-search-active":u}),children:[n.jsx("button",{className:"topbar-searchbutton p-link",onClick:w,children:n.jsx("i",{className:"pi pi-search"})}),n.jsx("div",{className:"search-input-wrapper",children:n.jsxs("span",{className:"p-input-icon-right",children:[n.jsx(Ye,{className:"searchInput",type:"text",placeholder:"Search",onBlur:E}),n.jsx("i",{className:"pi pi-search"})]})})]}),n.jsxs("div",{className:"topbar-profile",children:[n.jsx(We,{nodeRef:P,selector:"@next",enterClassName:"hidden",enterActiveClassName:"scalein",leaveToClassName:"hidden",leaveActiveClassName:"fadeout",hideOnOutsideClick:!0,children:n.jsxs("button",{ref:P,className:"topbar-profile-button p-link",type:"button",children:[n.jsx("img",{alt:"avatar",src:"/demo/images/avatar/onyamalimba.png"}),n.jsxs("span",{className:"profile-details",children:[n.jsx("span",{className:"profile-name",children:(R=c==null?void 0:c.user)==null?void 0:R.name}),n.jsx("span",{className:"profile-job",children:(N=c==null?void 0:c.user)==null?void 0:N.role})]}),n.jsx("i",{className:"pi pi-angle-down"})]})}),n.jsx("ul",{className:"list-none p-3 m-0 border-round shadow-2 hidden absolute surface-overlay origin-top w-full sm:w-12rem mt-2 right-0 top-auto",children:n.jsxs("li",{children:[n.jsxs("a",{onClick:()=>{z.visit(route("profile.edit"))},className:"p-ripple flex p-2 border-round align-items-center hover:surface-hover transition-colors transition-duration-150 cursor-pointer",children:[n.jsx("i",{className:"pi pi-user mr-3"}),n.jsx("span",{children:"Profil"}),n.jsx(U,{})]}),((m=c==null?void 0:c.user)==null?void 0:m.role)==="business"&&n.jsxs("a",{onClick:()=>{z.visit(route("business.integrations.show"))},className:"p-ripple flex p-2 border-round align-items-center hover:surface-hover transition-colors transition-duration-150 cursor-pointer",children:[n.jsx("i",{className:"pi pi-th-large mr-3"}),n.jsx("span",{children:"Entegrasyonlar"}),n.jsx(U,{})]}),n.jsxs("a",{className:"p-ripple flex p-2 border-round align-items-center hover:surface-hover transition-colors transition-duration-150 cursor-pointer",children:[n.jsx("i",{className:"pi pi-cog mr-3"}),n.jsx("span",{children:"Ayarlar"}),n.jsx(U,{})]}),n.jsxs("a",{onClick:()=>{window.location.href=route("auth.logout")},className:"p-ripple flex p-2 border-round align-items-center hover:surface-hover transition-colors transition-duration-150 cursor-pointer",children:[n.jsx("i",{className:"pi pi-power-off mr-3"}),n.jsx("span",{children:"Çıkış Yap"}),n.jsx(U,{})]})]})})]})]})});Ae.displayName="AppTopbar";const Pt=e=>{var f;const t=window.location.href,[s,a]=o.useState(null),{breadcrumbs:l}=o.useContext($);return o.useEffect(()=>{const c=l==null?void 0:l.find(d=>{var u;return((u=d.to)==null?void 0:u.replace(/\/$/,""))===t.replace(/\/$/,"")});a(c??null)},[t,l]),n.jsx("div",{className:e.className,children:n.jsx("nav",{className:"layout-breadcrumb",children:n.jsxs("ol",{children:[n.jsx("li",{children:n.jsx(ne,{href:route("dashboard"),style:{color:"inherit"},children:n.jsx("i",{className:"pi pi-home"})})}),n.jsx("li",{className:"layout-breadcrumb-chevron",children:" / "}),B.isNotEmpty(s)&&t!=="/"?(f=s==null?void 0:s.labels)==null?void 0:f.map((c,d)=>n.jsxs(pe.Fragment,{children:[d!==0&&n.jsx("li",{className:"layout-breadcrumb-chevron",children:" / "}),n.jsx("li",{children:c},d)]},d)):n.jsxs(n.Fragment,{children:[t==="/"&&n.jsx("li",{children:"SaaS Dashboard"},"home"),t==="/dashboard-sales"&&n.jsx("li",{children:"Sales Dashboard"},"banking")]})]})})})},Tt=()=>{const{layoutConfig:e}=o.useContext($);return n.jsxs("div",{className:"layout-footer mt-auto",children:[n.jsx("div",{className:"footer-start",children:n.jsx("img",{src:"/layout/images/logo-"+(e.colorScheme==="light"?"dark":"light")+".png",alt:"logo"})}),n.jsx("div",{className:"footer-right",children:n.jsx("span",{children:"© Your Organization"})})]})},At=e=>{const{layoutConfig:t,layoutState:s,setLayoutState:a,setLayoutConfig:l,isSlim:f,isSlimPlus:c,isHorizontal:d,isDesktop:u,isSidebarActive:y}=o.useContext($);o.useContext(ue);const g=o.useRef(null),A=o.useRef(null),P="usePathname()",S="useSearchParams()";let w=null;const[E,r]=ye({type:"click",listener:j=>{var q,J,G,Q,M,i;!((q=A.current)!=null&&q.isSameNode(j.target)||(J=A.current)!=null&&J.contains(j.target)||(Q=(G=g.current)==null?void 0:G.menubutton)!=null&&Q.isSameNode(j.target)||(i=(M=g.current)==null?void 0:M.menubutton)!=null&&i.contains(j.target))&&v()}}),[b,O]=$e({listener:()=>{u()&&!le.isTouchDevice()&&v()}}),v=o.useCallback(()=>{a(j=>({...j,overlayMenuActive:!1,overlaySubmenuActive:!1,staticMenuMobileActive:!1,menuHoverActive:!1,resetMenu:(f()||c()||d())&&u()}))},[f,d,u]),R=()=>{document.body.classList?document.body.classList.add("blocked-scroll"):document.body.className+=" blocked-scroll"},N=()=>{document.body.classList?document.body.classList.remove("blocked-scroll"):document.body.className=document.body.className.replace(new RegExp("(^|\\b)"+"blocked-scroll".split(" ").join("|")+"(\\b|$)","gi")," ")},m=()=>{s.anchored||(w&&(clearTimeout(w),w=null),a(j=>({...j,sidebarActive:!0})))},p=()=>{s.anchored||w||(w=setTimeout(()=>a(j=>({...j,sidebarActive:!1})),300))};o.useEffect(()=>{(()=>{t.colorScheme==="dark"&&l(D=>({...D,menuTheme:"dark"}))})()},[P,S]),o.useEffect(()=>(y()&&E(),s.staticMenuMobileActive&&(R(),(f()||c()||d())&&b()),()=>{r(),O(),N()}),[s.overlayMenuActive,s.staticMenuMobileActive,s.overlaySubmenuActive]),o.useEffect(()=>{(()=>{v()})()},[P,S]),Fe(()=>{r()});const C=T({"layout-slim":t.menuMode==="slim","layout-slim-plus":t.menuMode==="slim-plus","layout-static":t.menuMode==="static","layout-overlay":t.menuMode==="overlay","layout-overlay-active":s.overlayMenuActive,"layout-mobile-active":s.staticMenuMobileActive,"layout-static-inactive":s.staticMenuDesktopInactive&&t.menuMode==="static","p-input-filled":t.inputStyle==="filled","p-ripple-disabled":!t.ripple,"layout-light":t.layoutTheme==="colorScheme"&&t.colorScheme==="light","layout-dark":t.layoutTheme==="colorScheme"&&t.colorScheme==="dark","layout-primary":t.colorScheme!=="dark"&&t.layoutTheme==="primaryColor"});return n.jsxs(pe.Fragment,{children:[n.jsx(Ze,{}),n.jsxs("div",{className:T("layout-container",C),children:[n.jsx(Ae,{ref:g}),n.jsx("div",{ref:A,className:"layout-sidebar",onMouseEnter:m,onMouseLeave:p,children:n.jsx(Ce,{})}),n.jsx("div",{className:"layout-content-wrapper",children:n.jsx("div",{className:"layout-content",children:n.jsxs("div",{className:"layout-content-inner",children:[n.jsx(Pt,{}),e.children,n.jsx(Tt,{})]})})})]})]})};function oe({children:e}){return n.jsx(n.Fragment,{children:n.jsx(At,{children:e})})}const Ft=({auth:e,csrfToken:t,errors:s=[],children:a,profilePage:l=!1,courierIsTransporting:f=!1})=>{var u,y,g;const{setAuth:c,setCsrfToken:d}=o.useContext($);return o.useEffect(()=>{c(e),d(t)},[e,t]),n.jsxs(n.Fragment,{children:[((u=e==null?void 0:e.user)==null?void 0:u.role)==="courier"&&n.jsx(n.Fragment,{children:!l&&(e==null?void 0:e.profile_approved)===0||!l&&(e==null?void 0:e.profile_approved)===!1?n.jsx(oe,{children:n.jsx(Ke,{page:!0,profileCompleted:e==null?void 0:e.profile_completed,profileApproved:e==null?void 0:e.profile_approved,csrfToken:t})}):n.jsx(n.Fragment,{children:f?n.jsx(oe,{children:n.jsx(et,{auth:e,csrfToken:t})}):a})}),((y=e==null?void 0:e.user)==null?void 0:y.role)==="business"&&n.jsx(n.Fragment,{children:!l&&(e==null?void 0:e.profile_approved)===0||!l&&(e==null?void 0:e.profile_approved)===!1?n.jsx(oe,{children:n.jsx(ze,{page:!0,profileCompleted:e==null?void 0:e.profile_completed,profileApproved:e==null?void 0:e.profile_approved,csrfToken:t})}):n.jsx(n.Fragment,{children:a})}),((g=e==null?void 0:e.user)==null?void 0:g.role)==="admin"&&n.jsx(n.Fragment,{children:a})]})};export{Te as A,oe as M,Ft as P,Pe as a,Bt as b,Nt as g,$t as s,St as t};
