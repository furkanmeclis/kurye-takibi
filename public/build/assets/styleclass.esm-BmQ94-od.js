import{r as f,P as V,w as d,D as l,h as M,v as q,i as B,O as y}from"./app-Cz1wM2Ku.js";function W(r){if(Array.isArray(r))return r}function Y(r,n){var s=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(s!=null){var e,t,u,a,m=[],o=!0,v=!1;try{if(u=(s=s.call(r)).next,n!==0)for(;!(o=(e=u.call(s)).done)&&(m.push(e.value),m.length!==n);o=!0);}catch(g){v=!0,t=g}finally{try{if(!o&&s.return!=null&&(a=s.return(),Object(a)!==a))return}finally{if(v)throw t}}return m}}function P(r,n){(n==null||n>r.length)&&(n=r.length);for(var s=0,e=new Array(n);s<n;s++)e[s]=r[s];return e}function $(r,n){if(r){if(typeof r=="string")return P(r,n);var s=Object.prototype.toString.call(r).slice(8,-1);if(s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set")return Array.from(r);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return P(r,n)}}function z(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C(r,n){return W(r)||Y(r,n)||$(r,n)||z()}var N={defaultProps:{__TYPE:"StyleClass",nodeRef:null,selector:null,enterClassName:null,enterActiveClassName:null,enterToClassName:null,leaveClassName:null,leaveActiveClassName:null,leaveToClassName:null,hideOnOutsideClick:!1,toggleClassName:null,children:void 0},getProps:function(n){return y.getMergedProps(n,N.defaultProps)},getOtherProps:function(n){return y.getDiffProps(n,N.defaultProps)}},F=f.forwardRef(function(r,n){var s=f.useContext(V),e=N.getProps(r,s),t=f.useRef(null),u=f.useRef(!1),a=f.useRef(null),m=d({type:"animationend",listener:function(){l.removeClass(t.current,e.enterActiveClassName),e.enterToClassName&&l.addClass(t.current,e.enterToClassName),g(),e.enterActiveClassName==="slidedown"&&(t.current.style.maxHeight=""),u.current=!1}}),o=C(m,2),v=o[0],g=o[1],_=d({type:"animationend",listener:function(){l.removeClass(t.current,e.leaveActiveClassName),e.leaveToClassName&&l.addClass(t.current,e.leaveToClassName),S(),u.current=!1}}),h=C(_,2),O=h[0],S=h[1],k=d({type:"click",listener:function(c){!j(t.current)||getComputedStyle(t.current).getPropertyValue("position")==="static"?p():U(c)&&A()},when:e.hideOnOutsideClick}),b=C(k,2),x=b[0],p=b[1],w=d({type:"click",listener:function(){t.current=H(),e.toggleClassName?l.hasClass(t.current,e.toggleClassName)?l.removeClass(t.current,e.toggleClassName):l.addClass(t.current,e.toggleClassName):l.isVisible(t.current)?A():D()}}),E=C(w,2),R=E[0],T=E[1],D=function(){e.enterActiveClassName?u.current||(u.current=!0,e.enterActiveClassName==="slidedown"&&(t.current.style.height="0px",l.removeClass(t.current,"hidden"),t.current.style.maxHeight=t.current.scrollHeight+"px",l.addClass(t.current,"hidden"),t.current.style.height=""),l.addClass(t.current,e.enterActiveClassName),e.enterClassName&&l.removeClass(t.current,e.enterClassName),v({target:t.current})):(e.enterClassName&&l.removeClass(t.current,e.enterClassName),e.enterToClassName&&l.addClass(t.current,e.enterToClassName)),x({target:a.current&&a.current.ownerDocument})},A=function(){e.leaveActiveClassName?u.current||(u.current=!0,l.addClass(t.current,e.leaveActiveClassName),e.leaveClassName&&l.removeClass(t.current,e.leaveClassName),O({target:t.current})):(e.leaveClassName&&l.removeClass(t.current,e.leaveClassName),e.leaveToClassName&&l.addClass(t.current,e.leaveToClassName)),e.hideOnOutsideClick&&p()},H=function(){if(t.current)return t.current;switch(e.selector){case"@next":return a.current&&a.current.nextElementSibling;case"@prev":return a.current&&a.current.previousElementSibling;case"@parent":return a.current&&a.current.parentElement;case"@grandparent":return a.current&&a.current.parentElement.parentElement;default:return document.querySelector(e.selector)}},L=function(){Promise.resolve().then(function(){a.current=y.getRefElement(e.nodeRef),R({target:a.current})})},I=function(){T(),p(),t.current=null},j=function(c){return c&&c.offsetParent!==null},U=function(c){return!a.current.isSameNode(c.target)&&!a.current.contains(c.target)&&!t.current.contains(c.target)};return f.useImperativeHandle(n,function(){return{props:e,getElement:function(){return a.current},getTarget:function(){return t.current}}}),M(function(){L()}),q(function(){return L(),function(){T()}}),B(function(){I()}),e.children});F.displayName="StyleClass";export{F as S};
