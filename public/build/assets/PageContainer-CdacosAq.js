import{r as l,j as e,L as w,g as V,D as L,C as te,P as G,b as ne,m as re,c as C,O as D,p as E,x as O,y as H,T as oe,R as _,z as ae,k as le}from"./app-e-FMQW3k.js";import ie from"./PersonalInformation-FSQ-ACtn.js";import ce from"./PersonalInformation-Dsvh7Wgj.js";import{I as ue}from"./toast.esm-BpNVYG3k.js";import{S as de}from"./styleclass.esm-DKfFkkFF.js";const F=l.createContext({}),J=t=>{const[n,r]=l.useState(""),o={activeMenu:n,setActiveMenu:r};return e.jsx(F.Provider,{value:o,children:t.children})},pe=({target:t,overlay:n,container:r,when:o})=>{const{isSlim:a,isSlimPlus:p,isHorizontal:u,setLayoutState:i}=l.useContext(w),{activeMenu:c}=l.useContext(F),b=()=>{i(x=>({...x,overlayMenuActive:!1,overlaySubmenuActive:!1,staticMenuMobileActive:!1,menuHoverActive:!1,resetMenu:!0}))},[g,N]=V({type:"scroll",target:r,listener:b}),S=()=>{if(n&&t){const{left:x,top:y}=t.getBoundingClientRect(),{width:j,height:s}=L.getViewport(),[h,A]=[n.offsetWidth,n.offsetHeight],d=L.calculateScrollbarWidth(r),v=document.querySelector(".layout-topbar"),k=(v==null?void 0:v.offsetHeight)||0;if(n.style.top=n.style.left="",u()){const M=x+h+d;n.style.left=j<M?`${x-(M-j)}px`:`${x}px`}else if(a()||p()){const M=y-k,m=M+A+k;n.style.top=s<m?`${M-(m-s)}px`:`${M}px`}}};l.useEffect(()=>(o&&g(),()=>{N()}),[o]),l.useEffect(()=>{o&&S()},[o,c])};function B(t){"@babel/helpers - typeof";return B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},B(t)}function me(t,n){if(B(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var o=r.call(t,n||"default");if(B(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function fe(t){var n=me(t,"string");return B(n)==="symbol"?n:String(n)}function Q(t,n,r){return n=fe(n),n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}var be={root:function(n){var r=n.props;return C("p-badge p-component",Q({"p-badge-no-gutter":D.isNotEmpty(r.value)&&String(r.value).length===1,"p-badge-dot":D.isEmpty(r.value),"p-badge-lg":r.size==="large","p-badge-xl":r.size==="xlarge"},"p-badge-".concat(r.severity),r.severity!==null))}},ge=`
@layer primereact {
    .p-badge {
        display: inline-block;
        border-radius: 10px;
        text-align: center;
        padding: 0 .5rem;
    }
    
    .p-overlay-badge {
        position: relative;
    }
    
    .p-overlay-badge .p-badge {
        position: absolute;
        top: 0;
        right: 0;
        transform: translate(50%,-50%);
        transform-origin: 100% 0;
        margin: 0;
    }
    
    .p-badge-dot {
        width: .5rem;
        min-width: .5rem;
        height: .5rem;
        border-radius: 50%;
        padding: 0;
    }
    
    .p-badge-no-gutter {
        padding: 0;
        border-radius: 50%;
    }
}
`,T=te.extend({defaultProps:{__TYPE:"Badge",__parentMetadata:null,value:null,severity:null,size:null,style:null,className:null,children:void 0},css:{classes:be,styles:ge}});function Y(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,o)}return r}function xe(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Y(Object(r),!0).forEach(function(o){Q(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}var X=l.memo(l.forwardRef(function(t,n){var r=l.useContext(G),o=T.getProps(t,r),a=T.setMetaData(xe({props:o},o.__parentMetadata)),p=a.ptm,u=a.cx,i=a.isUnstyled;ne(T.css.styles,i,{name:"badge"});var c=l.useRef(null);l.useImperativeHandle(n,function(){return{props:o,getElement:function(){return c.current}}});var b=re({ref:c,style:o.style,className:C(o.className,u("root"))},T.getOtherProps(o),p("root"));return l.createElement("span",b,o.value)}));X.displayName="Badge";const Z=t=>{const{activeMenu:n,setActiveMenu:r}=l.useContext(F),{isSlim:o,isSlimPlus:a,isHorizontal:p,isDesktop:u,setLayoutState:i,layoutState:c,layoutConfig:b,openTab:g,tabs:N}=l.useContext(w),S=window.location.href,x="useSearchParams()",y=l.useRef(null),j=l.useRef(null),s=t.item,h=t.parentKey?t.parentKey+"-"+t.index:String(t.index),A=s.to&&S===s.to,d=n===h||!!(n&&n.startsWith(h+"-"));pe({target:j.current,overlay:y.current,container:j.current&&j.current.closest(".layout-menu-container"),when:t.root&&d&&(o()||a()||p())&&u()}),l.useEffect(()=>{c.resetMenu&&(r(""),i(m=>({...m,resetMenu:!1})))},[c.resetMenu]),l.useEffect(()=>{!(o()||a()||p())&&A&&r(h);const m=S+x.toString();(()=>{!(o()||p())&&s.to&&s.to===m&&r(h)})()},[S,x,b]);const v=m=>{var P;if(s.disabled){m.preventDefault();return}if(t.root&&(o()||p()||a())){const f=m.currentTarget.closest(".layout-root-menuitem.active-menuitem > ul")!==null;i(f?R=>({...R,menuHoverActive:!0}):R=>({...R,menuHoverActive:!R.menuHoverActive}))}s!=null&&s.command&&(s==null||s.command({originalEvent:m,item:s})),m.metaKey&&(s!=null&&s.to)&&(!(s!=null&&s.data)||!((P=s==null?void 0:s.data)!=null&&P.fullPage))&&(H.visit(s.to),g(s),m.preventDefault()),s!=null&&s.items?(r(d?t.parentKey:h),t.root&&!d&&(o()||p()||a())&&i(f=>({...f,overlaySubmenuActive:!0}))):(u()||i(f=>({...f,staticMenuMobileActive:!f.staticMenuMobileActive})),(o()||a()||p())&&i(f=>({...f,menuHoverActive:!1})),r(h))},k=()=>{t.root&&(o()||p()||a())&&u()&&!d&&c.menuHoverActive&&r(h)},M=s!=null&&s.items&&(s==null?void 0:s.visible)!==!1?e.jsx("ul",{ref:y,className:C({"layout-root-submenulist":t.root}),children:s==null?void 0:s.items.map((m,P)=>e.jsx(Z,{item:m,index:P,className:m.badgeClass,parentKey:h},m.label))}):null;return e.jsxs("li",{ref:j,className:C({"layout-root-menuitem":t.root,"active-menuitem":d}),children:[t.root&&(s==null?void 0:s.visible)!==!1&&e.jsx("div",{className:"layout-menuitem-root-text",children:e.jsx("span",{children:s==null?void 0:s.label})}),(!(s!=null&&s.to)||s!=null&&s.items)&&(s==null?void 0:s.visible)!==!1?e.jsx(e.Fragment,{children:e.jsxs("a",{href:s==null?void 0:s.url,onClick:m=>v(m),className:C(s==null?void 0:s.class,"p-ripple tooltip-target"),target:s==null?void 0:s.target,"data-pr-tooltip":s==null?void 0:s.label,"data-pr-disabled":!(o()&&t.root&&!c.menuHoverActive),tabIndex:0,onMouseEnter:k,children:[e.jsx("i",{className:C("layout-menuitem-icon",s==null?void 0:s.icon)}),e.jsx("span",{className:"layout-menuitem-text",children:s==null?void 0:s.label}),(s==null?void 0:s.items)&&e.jsx("i",{className:"pi pi-fw pi-angle-down layout-submenu-toggler"}),e.jsx(E,{})]})}):null,s!=null&&s.to&&!(s!=null&&s.items)&&(s==null?void 0:s.visible)!==!1?e.jsx(e.Fragment,{children:e.jsxs(O,{href:s==null?void 0:s.to,replace:s==null?void 0:s.replaceUrl,onClick:m=>v(m),className:C(s==null?void 0:s.class,"p-ripple ",{"active-route":A}),tabIndex:0,onMouseEnter:k,children:[e.jsx("i",{className:C("layout-menuitem-icon",s==null?void 0:s.icon)}),e.jsx("span",{className:"layout-menuitem-text",children:s==null?void 0:s.label}),(s==null?void 0:s.badge)&&e.jsx(X,{value:s==null?void 0:s.badge,severity:"danger",className:"right-0 absolute "+((s==null?void 0:s.badgeClassName)??""),style:s==null?void 0:s.badgeStyle}),(s==null?void 0:s.items)&&e.jsx("i",{className:"pi pi-fw pi-angle-down layout-submenu-toggler"}),e.jsx(E,{})]})}):null,M]})},ye=t=>{const{layoutState:n,setBreadcrumbs:r,auth:o}=l.useContext(w),a=l.useRef(null);l.useEffect(()=>{a.current&&(a.current.hide(),a.current.updateTargetEvents())},[n.overlaySubmenuActive]),l.useEffect(()=>{p(t.model)},[]);const p=i=>{let c=[];const b=(g,N=[])=>{const{label:S,to:x,items:y}=g;S&&N.push(S),y&&y.forEach(j=>{b(j,N.slice())}),x&&c.push({labels:N,to:x})};i.forEach(g=>{b(g)}),r(c)},u=i=>{var g;let c=i.roles||["*"];if(c.includes("*"))return!0;let b=(g=o==null?void 0:o.user)==null?void 0:g.role;return b?c.includes(b):!1};return e.jsxs(J,{children:[e.jsx("ul",{className:"layout-menu",children:t.model.map((i,c)=>u(i)?i.seperator?e.jsx("li",{className:"menu-separator"}):e.jsx(Z,{item:i,root:!0,index:c},i.label):null)}),e.jsx(oe,{ref:a,target:"li:not(.active-menuitem)>.tooltip-target"})]})},he=()=>{const t=[{label:"Anasayfa",icon:"pi pi-home",roles:["*"],items:[{label:"Anasayfa",icon:"pi pi-fw pi-home",to:route("dashboard")}]},{label:"Kuryeler",icon:"pi pi-users",roles:["admin"],items:[{label:"Yeni Ekle",icon:"pi pi-fw pi-user-plus",to:route("admin.couriers.create")},{label:"Onay Bekleyenler",icon:"pi pi-fw pi-clock",to:route("admin.couriers.waitApproval")},{label:"Kuryeler",icon:"pi pi-fw pi-users",to:route("admin.couriers.index")}]},{label:"İşletmeler",icon:"pi pi-shop",roles:["admin"],items:[{label:"Yeni Ekle",icon:"pi pi-fw pi-plus-circle",to:route("admin.businesses.create")},{label:"Onay Bekleyenler",icon:"pi pi-fw pi-clock",to:route("admin.businesses.waitApproval")},{label:"İşletmeler",icon:"pi pi-fw pi-home",to:route("admin.businesses.index")}]}];return e.jsx(ye,{model:t})},ee=()=>(l.useContext(w),e.jsx(_.Fragment,{children:e.jsx("div",{className:"layout-menu-container",children:e.jsx(J,{children:e.jsx(he,{})})})}));ee.displayName="AppSidebar";const se=l.forwardRef((t,n)=>{var h,A;const{onMenuToggle:r,layoutConfig:o,tabs:a,closeTab:p,auth:u}=l.useContext(w),[i,c]=l.useState(!1),b=window.location.pathname,g=l.useRef(null),N=l.useRef(null),S=()=>{r()},x=()=>{c(!0),setTimeout(()=>{const d=document.querySelector(".searchInput");d==null||d.focus()},100)},y=()=>{c(!1)};l.useImperativeHandle(n,()=>({menubutton:g.current}));const j=()=>{const d="/layout/images/logo-";let v;return o.layoutTheme==="primaryColor"&&o.theme!=="yellow"?v="light.png":v=o.colorScheme==="light"?"dark.png":"light.png",d+v};l.useEffect(()=>{j()},[]);const s=d=>{a.length>1?d===(a==null?void 0:a.length)-1?H.visit(a==null?void 0:a[a.length-2].to):H.visit(a==null?void 0:a[d+1].to):H.visit("/"),p(d)};return e.jsxs("div",{className:"layout-topbar",children:[e.jsxs(O,{href:route("dashboard"),className:"app-logo",children:[e.jsx("img",{alt:"app logo",src:j()}),e.jsx("span",{className:"app-name",children:"414 Express"})]}),e.jsx("button",{ref:g,className:"topbar-menubutton p-link",type:"button",onClick:S,children:e.jsx("span",{})}),e.jsxs("ul",{className:"topbar-menu",children:[a.map((d,v)=>e.jsxs("li",{children:[e.jsx(O,{href:d.to,className:C({"active-route":d.to===b}),children:e.jsx("span",{children:d.label})}),e.jsx("i",{className:"pi pi-times",onClick:()=>s(v)})]},v)),!a||a.length===0&&e.jsx("li",{className:"topbar-menu-empty",children:"v1.0"})]}),i===!0&&e.jsxs("div",{className:C("topbar-search",{"topbar-search-active":i}),children:[e.jsx("button",{className:"topbar-searchbutton p-link",onClick:x,children:e.jsx("i",{className:"pi pi-search"})}),e.jsx("div",{className:"search-input-wrapper",children:e.jsxs("span",{className:"p-input-icon-right",children:[e.jsx(ue,{className:"searchInput",type:"text",placeholder:"Search",onBlur:y}),e.jsx("i",{className:"pi pi-search"})]})})]}),e.jsxs("div",{className:"topbar-profile",children:[e.jsx(de,{nodeRef:N,selector:"@next",enterClassName:"hidden",enterActiveClassName:"scalein",leaveToClassName:"hidden",leaveActiveClassName:"fadeout",hideOnOutsideClick:!0,children:e.jsxs("button",{ref:N,className:"topbar-profile-button p-link",type:"button",children:[e.jsx("img",{alt:"avatar",src:"/demo/images/avatar/onyamalimba.png"}),e.jsxs("span",{className:"profile-details",children:[e.jsx("span",{className:"profile-name",children:(h=u==null?void 0:u.user)==null?void 0:h.name}),e.jsx("span",{className:"profile-job",children:(A=u==null?void 0:u.user)==null?void 0:A.role})]}),e.jsx("i",{className:"pi pi-angle-down"})]})}),e.jsx("ul",{className:"list-none p-3 m-0 border-round shadow-2 hidden absolute surface-overlay origin-top w-full sm:w-12rem mt-2 right-0 top-auto",children:e.jsxs("li",{children:[e.jsxs(O,{href:route("profile.edit"),className:"p-ripple flex p-2 border-round align-items-center hover:surface-hover transition-colors transition-duration-150 cursor-pointer",children:[e.jsx("i",{className:"pi pi-user mr-3"}),e.jsx("span",{children:"Profil"}),e.jsx(E,{})]}),e.jsxs("a",{className:"p-ripple flex p-2 border-round align-items-center hover:surface-hover transition-colors transition-duration-150 cursor-pointer",children:[e.jsx("i",{className:"pi pi-inbox mr-3"}),e.jsx("span",{children:"Gelen Kutusu"}),e.jsx(E,{})]}),e.jsxs("a",{className:"p-ripple flex p-2 border-round align-items-center hover:surface-hover transition-colors transition-duration-150 cursor-pointer",children:[e.jsx("i",{className:"pi pi-cog mr-3"}),e.jsx("span",{children:"Ayarlar"}),e.jsx(E,{})]}),e.jsxs("a",{onClick:()=>{window.location.href=route("auth.logout")},className:"p-ripple flex p-2 border-round align-items-center hover:surface-hover transition-colors transition-duration-150 cursor-pointer",children:[e.jsx("i",{className:"pi pi-power-off mr-3"}),e.jsx("span",{children:"Çıkış Yap"}),e.jsx(E,{})]})]})})]})]})});se.displayName="AppTopbar";const ve=t=>{var p;const n=window.location.href,[r,o]=l.useState(null),{breadcrumbs:a}=l.useContext(w);return l.useEffect(()=>{const u=a==null?void 0:a.find(i=>{var c;return((c=i.to)==null?void 0:c.replace(/\/$/,""))===n.replace(/\/$/,"")});o(u??null)},[n,a]),e.jsx("div",{className:t.className,children:e.jsx("nav",{className:"layout-breadcrumb",children:e.jsxs("ol",{children:[e.jsx("li",{children:e.jsx(O,{href:route("dashboard"),style:{color:"inherit"},children:e.jsx("i",{className:"pi pi-home"})})}),e.jsx("li",{className:"layout-breadcrumb-chevron",children:" / "}),D.isNotEmpty(r)&&n!=="/"?(p=r==null?void 0:r.labels)==null?void 0:p.map((u,i)=>e.jsxs(_.Fragment,{children:[i!==0&&e.jsx("li",{className:"layout-breadcrumb-chevron",children:" / "}),e.jsx("li",{children:u},i)]},i)):e.jsxs(e.Fragment,{children:[n==="/"&&e.jsx("li",{children:"SaaS Dashboard"},"home"),n==="/dashboard-sales"&&e.jsx("li",{children:"Sales Dashboard"},"banking")]})]})})})},je=()=>{const{layoutConfig:t}=l.useContext(w);return e.jsxs("div",{className:"layout-footer mt-auto",children:[e.jsxs("div",{className:"footer-start",children:[e.jsx("img",{src:"/layout/images/logo-"+(t.colorScheme==="light"?"dark":"light")+".png",alt:"logo"}),e.jsx("span",{className:"app-name",children:"414 Express"})]}),e.jsx("div",{className:"footer-right",children:e.jsx("span",{children:"© Your Organization"})})]})},Ne=t=>{const{layoutConfig:n,layoutState:r,setLayoutState:o,setLayoutConfig:a,isSlim:p,isSlimPlus:u,isHorizontal:i,isDesktop:c,isSidebarActive:b}=l.useContext(w);l.useContext(G);const g=l.useRef(null),N=l.useRef(null),S="usePathname()",x="useSearchParams()";let y=null;const[j,s]=V({type:"click",listener:f=>{var z,I,K,$,W,U;!((z=N.current)!=null&&z.isSameNode(f.target)||(I=N.current)!=null&&I.contains(f.target)||($=(K=g.current)==null?void 0:K.menubutton)!=null&&$.isSameNode(f.target)||(U=(W=g.current)==null?void 0:W.menubutton)!=null&&U.contains(f.target))&&d()}}),[h,A]=ae({listener:()=>{c()&&!L.isTouchDevice()&&d()}}),d=l.useCallback(()=>{o(f=>({...f,overlayMenuActive:!1,overlaySubmenuActive:!1,staticMenuMobileActive:!1,menuHoverActive:!1,resetMenu:(p()||u()||i())&&c()}))},[p,i,c]),v=()=>{document.body.classList?document.body.classList.add("blocked-scroll"):document.body.className+=" blocked-scroll"},k=()=>{document.body.classList?document.body.classList.remove("blocked-scroll"):document.body.className=document.body.className.replace(new RegExp("(^|\\b)"+"blocked-scroll".split(" ").join("|")+"(\\b|$)","gi")," ")},M=()=>{r.anchored||(y&&(clearTimeout(y),y=null),o(f=>({...f,sidebarActive:!0})))},m=()=>{r.anchored||y||(y=setTimeout(()=>o(f=>({...f,sidebarActive:!1})),300))};l.useEffect(()=>{(()=>{n.colorScheme==="dark"&&a(R=>({...R,menuTheme:"dark"}))})()},[S,x]),l.useEffect(()=>(b()&&j(),r.staticMenuMobileActive&&(v(),(p()||u()||i())&&h()),()=>{s(),A(),k()}),[r.overlayMenuActive,r.staticMenuMobileActive,r.overlaySubmenuActive]),l.useEffect(()=>{(()=>{d()})()},[S,x]),le(()=>{s()});const P=C({"layout-slim":n.menuMode==="slim","layout-slim-plus":n.menuMode==="slim-plus","layout-static":n.menuMode==="static","layout-overlay":n.menuMode==="overlay","layout-overlay-active":r.overlayMenuActive,"layout-mobile-active":r.staticMenuMobileActive,"layout-static-inactive":r.staticMenuDesktopInactive&&n.menuMode==="static","p-input-filled":n.inputStyle==="filled","p-ripple-disabled":!n.ripple,"layout-light":n.layoutTheme==="colorScheme"&&n.colorScheme==="light","layout-dark":n.layoutTheme==="colorScheme"&&n.colorScheme==="dark","layout-primary":n.colorScheme!=="dark"&&n.layoutTheme==="primaryColor"});return e.jsx(_.Fragment,{children:e.jsxs("div",{className:C("layout-container",P),children:[e.jsx(se,{ref:g}),e.jsx("div",{ref:N,className:"layout-sidebar",onMouseEnter:M,onMouseLeave:m,children:e.jsx(ee,{})}),e.jsx("div",{className:"layout-content-wrapper",children:e.jsx("div",{className:"layout-content",children:e.jsxs("div",{className:"layout-content-inner",children:[e.jsx(ve,{}),t.children,e.jsx(je,{})]})})})]})})};function q({children:t}){return e.jsx(e.Fragment,{children:e.jsx(Ne,{children:t})})}const ke=({auth:t,csrfToken:n,errors:r=[],children:o,profilePage:a=!1})=>{var i,c,b;const{setAuth:p,setCsrfToken:u}=l.useContext(w);return l.useEffect(()=>{p(t),u(n)},[t,n]),e.jsxs(e.Fragment,{children:[((i=t==null?void 0:t.user)==null?void 0:i.role)==="courier"&&e.jsx(e.Fragment,{children:!a&&(t==null?void 0:t.profile_completed)===!1?e.jsx(q,{children:e.jsx(ie,{page:!0,profileCompleted:t==null?void 0:t.profile_completed,profileApproved:t==null?void 0:t.profile_approved,csrfToken:n})}):e.jsx(e.Fragment,{children:o})}),((c=t==null?void 0:t.user)==null?void 0:c.role)==="business"&&e.jsx(e.Fragment,{children:!a&&(t==null?void 0:t.profile_completed)===!1?e.jsx(q,{children:e.jsx(ce,{page:!0,profileCompleted:t==null?void 0:t.profile_completed,profileApproved:t==null?void 0:t.profile_approved,csrfToken:n})}):e.jsx(e.Fragment,{children:o})}),((b=t==null?void 0:t.user)==null?void 0:b.role)==="admin"&&e.jsx(e.Fragment,{children:o})]})};export{q as M,ke as P};
