import{C as V,r as a,P as G,d as K,m as T,c as A,L as z,R as W,j as e,B as C,y as O,Y}from"./app-BByQLae0.js";import{P as U,a as X}from"./ProductService-1ABLT5th.js";import{M as D,D as J}from"./message.esm-DclE9fGZ.js";import{T as $,c as I,d as q,A as h}from"./ActiveOrder-qGw_VT1L.js";import{P as Q,M as Z}from"./PageContainer-e-ogGEmM.js";import{T as ee}from"./toast.esm-Dj43sXdO.js";import{g as se}from"./PersonalInformation-D6FiHYol.js";import"./index.esm-jRcByfXL.js";import"./inputtext.esm-BTVR913q.js";import"./sidebar.esm-BO5zr36R.js";import"./PersonalInformation-kPw-L73A.js";import"./inputmask.esm-Ccv13sCB.js";import"./styleclass.esm-C27BYKsh.js";function v(t){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},v(t)}function te(t,s){if(v(t)!=="object"||t===null)return t;var l=t[Symbol.toPrimitive];if(l!==void 0){var r=l.call(t,s||"default");if(v(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function re(t){var s=te(t,"string");return v(s)==="symbol"?s:String(s)}function le(t,s,l){return s=re(s),s in t?Object.defineProperty(t,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[s]=l,t}var ae={root:function(s){var l=s.props;return A("p-skeleton p-component",{"p-skeleton-circle":l.shape==="circle","p-skeleton-none":l.animation==="none"})}},ne=`
@layer primereact {
    .p-skeleton {
        position: relative;
        overflow: hidden;
    }
    
    .p-skeleton::after {
        content: "";
        animation: p-skeleton-animation 1.2s infinite;
        height: 100%;
        left: 0;
        position: absolute;
        right: 0;
        top: 0;
        transform: translateX(-100%);
        z-index: 1;
    }
    
    .p-skeleton-circle {
        border-radius: 50%;
    }
    
    .p-skeleton-none::after {
        animation: none;
    }
}

@keyframes p-skeleton-animation {
    from {
        transform: translateX(-100%);
    }
    to {
        transform: translateX(100%);
    }
}
`,ie={root:{position:"relative"}},S=V.extend({defaultProps:{__TYPE:"Skeleton",shape:"rectangle",size:null,width:"100%",height:"1rem",borderRadius:null,animation:"wave",style:null,className:null},css:{classes:ae,inlineStyles:ie,styles:ne}});function E(t,s){var l=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);s&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),l.push.apply(l,r)}return l}function B(t){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?E(Object(l),!0).forEach(function(r){le(t,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(l)):E(Object(l)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(l,r))})}return t}var R=a.memo(a.forwardRef(function(t,s){var l=a.useContext(G),r=S.getProps(t,l),o=S.setMetaData({props:r}),g=o.ptm,y=o.cx,d=o.sx,p=o.isUnstyled;K(S.css.styles,p,{name:"skeleton"});var m=a.useRef(null);a.useImperativeHandle(s,function(){return{props:r,getElement:function(){return m.current}}});var f=r.size?{width:r.size,height:r.size,borderRadius:r.borderRadius}:{width:r.width,height:r.height,borderRadius:r.borderRadius},j=T({ref:m,className:A(r.className,y("root")),style:B(B({},f),d("root")),"aria-hidden":!0},S.getOtherProps(r),g("root"));return a.createElement("div",j)}));R.displayName="Skeleton";const oe=({csrfToken:t})=>{const s=a.useRef(null),[l,r]=a.useState(null),o=10;a.useContext(z);const[g,y]=a.useState(!1),[d,p]=a.useState(!0),[m,f]=a.useState(["","","",""]);a.useState({});const j=()=>{s!=null&&s.current&&(p(!0),I(s==null?void 0:s.current).then(n=>{q(n.latitude,n.longitude,t,o).then(c=>{var u;c.status?(f(c.orders),r(null)):(r(c.message),(u=s==null?void 0:s.current)==null||u.show({severity:"error",summary:"Hata",detail:c.message}))}).catch(c=>{var u;(u=s==null?void 0:s.current)==null||u.show({severity:"error",summary:"Hata",detail:"Siparişler Listelenirken Bir Hata Oluştu"})}).finally(()=>p(!1))}).catch(n=>{p(!1)}))},N=n=>{O.visit(route("courier.orders.reviewOrder",n))};return W.useEffect(()=>{j()},[s]),e.jsxs(e.Fragment,{children:[e.jsx(ee,{ref:s}),e.jsxs("div",{className:"card h-full",children:[e.jsxs("h6",{className:"flex justify-content-between align-items-center",children:[e.jsxs("span",{children:["Yakın Siparişler(Konuma Göre) ",e.jsx($,{value:"New",severity:"warning"})]}),e.jsx("div",{className:"flex gap-1",children:e.jsx(C,{icon:"pi pi-refresh",loading:d,tooltip:"Verileri Yenile",tooltipOptions:{position:"top"},onClick:j,raised:!0,size:"small"})})]}),l!==null&&e.jsx(D,{text:l,className:"w-full mb-3",severity:"error"}),g&&e.jsx(D,{text:"Konum Bilgisi Alınamadı",className:"w-full",severity:"error"}),!g&&e.jsxs("ul",{className:"list-none p-0 m-0 relative",children:[d&&Array.from({length:o}).map((n,c)=>e.jsx("li",{className:"mb-2 flex align-items-center",children:e.jsx("div",{className:"w-full",children:e.jsx(R,{width:"100%",height:"2rem"})})},c)),!d&&m.length>0&&e.jsxs("li",{className:"w-full px-2 mb-2 flex align-items-center justify-content-between font-semibold text-sm",children:[e.jsx("span",{className:"flex-1 text-left",children:"İşletme Adı"}),e.jsx("span",{className:"flex-1 text-center",children:"Paket Ücreti"}),e.jsx("span",{className:"flex-1 text-right",children:"İşletmeye Uzaklık"})]}),!d&&m.map((n,c)=>e.jsx("li",{onClick:()=>N(n.id),className:"mb-2 flex hover:text-primary-900 align-items-center hover:bg-primary-300 border-1 border-gray-400 cursor-pointer hover:border-primary transition-all transition-duration-400 h-2rem w-full px-2 py-4 border-round",children:e.jsxs("div",{className:"flex align-items-center justify-content-between w-full",children:[e.jsx("div",{className:"flex-1 font-semibold",children:n.business.name}),e.jsxs("div",{className:"text-center flex-1",children:[n.price," ₺"]}),e.jsxs("div",{className:"text-right flex-1 ",children:[n.distance,e.jsx("span",{className:"font-semibold",children:"km"})]})]})},c)),!d&&m.length===0&&e.jsx("li",{className:"mb-2 flex hover:text-primary-900 align-items-center bg-primary-300 hover:bg-red-400 hover:text-white border-1 hover:border-gray-400 border-primary transition-all transition-duration-400 h-2rem w-full px-2 py-4 border-round",children:e.jsx("div",{className:"flex align-items-center justify-content-center w-full",children:e.jsx("span",{children:"Yakınınızda Sipariş Bulunamadı"})})}),!d&&m.length!==o&&Array.from({length:o-m.length-1}).map((n,c)=>e.jsx("li",{className:"mb-2 flex align-items-center",children:e.jsx("div",{className:"ml-3 w-full h-2rem"})},c))]}),e.jsx(C,{type:"button",loading:d,className:"w-full mt-3",label:"Hepsini Görüntüle",onClick:()=>O.visit(route("courier.orders.newOrders")),icon:"pi pi-arrow-right",iconPos:"right"})]})]})};let b;function Ne({auth:t,csrfToken:s,errors:l,courierIsTransporting:r=!1}){const{layoutConfig:o}=a.useContext(z),[g,y]=a.useState([]),[d,p]=a.useState(null);a.useState(null);const[m,f]=a.useState(null),[j,N]=a.useState(!1),[n,c]=a.useState({price:0,speed:0,time:0,count:0}),u=()=>{N(!0),se(s).then(i=>{i.status&&c(i.statics)})};a.useEffect(()=>{u()},[]);const P=[{name:"Bu Hafta",code:"0"},{name:"Geçen Hafta",code:"1"}],M=()=>{f(P[0])},F=i=>{f(i.value);const x=[91,70,56,86,64],k=[52,70,55,68,79,56,74];i.value.code==="1"?b.datasets[0].data=k:b.datasets[0].data=x,b={...b}},H=()=>{const i=getComputedStyle(document.documentElement);i.getPropertyValue("--primary-color");const x=i.getPropertyValue("--primary-200");return{labels:["Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi","Pazar"],datasets:[{label:"Sipariş Adedi",data:[70,68,72,56,68,90,68],backgroundColor:["#007bff"],hoverBackgroundColor:[x],fill:!0,borderRadius:"3",borderSkipped:"top bottom",barPercentage:.25}]}},_=()=>{const i=getComputedStyle(document.documentElement);return i.getPropertyValue("--text-color-secondary"),i.getPropertyValue("--surface-border"),{labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{data:[11,17,30,60,88,92],borderColor:"rgba(25, 146, 212, 0.5)",pointBorderColor:"transparent",pointBackgroundColor:"transparent",fill:!1,tension:.4},{data:[11,19,39,59,69,71],borderColor:"rgba(25, 146, 212, 0.5)",pointBorderColor:"transparent",pointBackgroundColor:"transparent",fill:!1,tension:.4},{data:[11,17,21,30,47,83],backgroundColor:"rgba(25, 146, 212, 0.2)",borderColor:"rgba(25, 146, 212, 0.5)",pointBorderColor:"transparent",pointBackgroundColor:"transparent",fill:!0,tension:.4}]}},w=i=>`/demo/images/dashboard/${i}.svg`;return a.useEffect(()=>{M()},[]),a.useEffect(()=>{U.getProductsSmall().then(L=>y(L));const i=getComputedStyle(document.documentElement),x=i.getPropertyValue("--text-color-secondary"),k=i.getPropertyValue("--surface-border");b=H(),_(),p({plugins:{legend:{position:"bottom",align:"end",labels:{color:x}}},responsive:!0,maintainAspectRatio:!1,hover:{mode:"index"},scales:{y:{min:0,ticks:{stepSize:0,color:x},grid:{color:k}},x:{grid:{tickBorderDash:[2,2],display:!0,color:k},ticks:{color:x}}}})},[o]),e.jsx(Q,{auth:t,csrfToken:s,errors:l,courierIsTransporting:r,children:e.jsxs(Z,{children:[e.jsx(Y,{title:"Kurye Anasayfa"}),e.jsxs("div",{className:"grid",children:[e.jsx("div",{className:"col-12 lg:col-6 xl:col-3",children:e.jsxs("div",{className:"card p-0 overflow-hidden flex flex-column",children:[e.jsxs("div",{className:"flex align-items-center p-3",children:[e.jsx("i",{className:"pi pi-clock text-6xl text-blue-500"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("span",{className:"text-blue-500 block white-space-nowrap",children:"Ortalama Teslimat Süresi"}),e.jsxs("span",{className:"text-blue-500 block text-4xl font-bold",children:[n.time,"dk"]})]})]}),e.jsx("img",{src:w("users"),className:"w-full",alt:"users"})]})}),e.jsx("div",{className:"col-12 lg:col-6 xl:col-3",children:e.jsxs("div",{className:"card p-0 overflow-hidden flex flex-column",children:[e.jsxs("div",{className:"flex align-items-center p-3",children:[e.jsx("i",{className:"pi pi-turkish-lira text-6xl text-orange-500"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("span",{className:"text-orange-500 block white-space-nowrap",children:"Elde Edilen Kazanç"}),e.jsxs("span",{className:"text-orange-500 block text-4xl font-bold",children:[n.price," ₺"]})]})]}),e.jsx("img",{src:w("locations"),className:"w-full",alt:"locations"})]})}),e.jsx("div",{className:"col-12 lg:col-6 xl:col-3",children:e.jsxs("div",{className:"card h-full p-0 overflow-hidden flex flex-column",children:[e.jsxs("div",{className:"flex align-items-center p-3",children:[e.jsx("i",{className:"pi pi-box text-6xl text-purple-500"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("span",{className:"text-purple-500 block white-space-nowrap",children:"Teslim Edilen Sipariş Adedi"}),e.jsx("span",{className:"text-purple-500 block text-4xl font-bold",children:n.count})]})]}),e.jsx("img",{src:w("interactions"),className:"w-full mt-auto",alt:"interactions"})]})}),e.jsx("div",{className:"col-12 lg:col-6 xl:col-3",children:e.jsxs("div",{className:"card p-0 overflow-hidden flex flex-column",children:[e.jsxs("div",{className:"flex align-items-center p-3",children:[e.jsx("i",{className:"pi pi-bolt text-6xl text-green-500"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("span",{className:"text-green-500 block white-space-nowrap",children:"Siparişlerdeki Ortalama Hız"}),e.jsxs("span",{className:"text-green-500 block text-4xl font-bold",children:[n.speed,"km/h "]})]})]}),e.jsx("img",{src:w("rate"),className:"w-full",alt:"conversion"})]})}),e.jsx("div",{className:"col-12 lg:col-6 xl:col-3",children:e.jsx(oe,{csrfToken:s})}),e.jsx("div",{className:"col-12 lg:col-6 xl:col-3",children:e.jsxs("div",{className:"card h-full",children:[e.jsx("h5",{children:"Son Siparişler"}),e.jsxs("ul",{className:"list-none p-0 m-0",children:[e.jsxs("li",{className:"mb-4 flex align-items-center",children:[e.jsx(h,{label:"BÇ",size:"large",shape:"circle",className:"text-base font-bold",style:{backgroundColor:"rgba(101, 214, 173, 0.1)",color:"#27AB83",border:"1px solid #65D6AD"}}),e.jsx("div",{className:"ml-3",children:e.jsx("span",{className:"block",children:"Behzat Ç"})})]}),e.jsxs("li",{className:"mb-4 flex align-items-center",children:[e.jsx(h,{label:"AA",size:"large",shape:"circle",className:"text-base font-bold",style:{backgroundColor:"rgba(250, 219, 95, 0.1)",color:"#DE911D",border:"1px solid #FADB5F"}}),e.jsx("div",{className:"ml-3",children:e.jsx("span",{className:"block",children:"Adile Aydın"})})]}),e.jsxs("li",{className:"mb-4 flex align-items-center",children:[e.jsx(h,{label:"ECD",size:"large",shape:"circle",className:"text-base font-bold",style:{backgroundColor:"rgba(94, 208, 250, 0.1)",color:"#1992D4",border:"1px solid #5ED0FA"}}),e.jsx("div",{className:"ml-3",children:e.jsx("span",{className:"block",children:"Emir Can Değril"})})]}),e.jsxs("li",{className:"mb-4 flex align-items-center",children:[e.jsx(h,{label:"MÇ",size:"large",shape:"circle",className:"text-base font-bold",style:{backgroundColor:"rgba(250, 219, 95, 0.1)",color:"#DE911D",border:"1px solid #FADB5F"}}),e.jsx("div",{className:"ml-3",children:e.jsx("span",{className:"block",children:"Mehmet Ç"})})]}),e.jsxs("li",{className:"mb-4 flex align-items-center",children:[e.jsx(h,{label:"FM",size:"large",shape:"circle",className:"text-base font-bold",style:{backgroundColor:"rgba(94, 208, 250, 0.1)",color:"#1992D4",border:"1px solid #5ED0FA"}}),e.jsx("div",{className:"ml-3",children:e.jsx("span",{className:"block",children:"Furkan Mesal"})})]}),e.jsxs("li",{className:"mb-4 flex align-items-center",children:[e.jsx(h,{label:"MD",size:"large",shape:"circle",className:"text-base font-bold",style:{backgroundColor:"rgba(250, 219, 95, 0.1)",color:"#DE911D",border:"1px solid #FADB5F"}}),e.jsx("div",{className:"ml-3",children:e.jsx("span",{className:"block",children:"Mehmet Duran"})})]})]}),e.jsx(C,{type:"button",className:"w-full mt-3",label:"Hepsini Görüntüle",icon:"pi pi-arrow-right",iconPos:"right"})]})}),e.jsx("div",{className:"col-12 xl:col-6",children:e.jsxs("div",{className:"card h-full",children:[e.jsxs("div",{className:"flex justify-content-between align-items-center mb-3",children:[e.jsx("h5",{children:"Günlük Sipariş Grafiği"}),e.jsxs("div",{children:[e.jsx(J,{options:P,value:m,onChange:F,optionLabel:"name"}),e.jsx(C,{icon:"pi pi-refresh",tooltip:"Verileri Yenile",tooltipOptions:{position:"top"},className:"ml-2",severity:"secondary",outlined:!0})]})]}),e.jsx("div",{className:"graph",children:e.jsx(X,{type:"bar",height:"400px",data:b,options:d})})]})})]})]})})}export{Ne as default};
