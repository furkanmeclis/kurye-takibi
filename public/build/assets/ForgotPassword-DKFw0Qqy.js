import{r,j as e,Y as v,c as l,b as p,B as S}from"./app-B-maR26A.js";import{c as w,b as z,u as T,I as C}from"./inputtext.esm-BvLpjxFy.js";import{F as O}from"./FullPageLayout-DSP-YB8h.js";import{T as E}from"./toast.esm-CRkeqpJi.js";import"./index.esm-nUOFFTeC.js";const P=({csrfToken:f="",auth:F={}})=>{const[o,m]=r.useState(!1),t=r.useRef(null),[c,x]=r.useState(!1),h=w().shape({email:z().email("Geçerli bir email adresi giriniz").required("Email adresinizi giriniz")}),{values:y,submitCount:i,handleChange:g,handleSubmit:j,errors:a,isValid:b}=T({initialValues:{email:""},validationSchema:h,validateOnChange:c,validateOnBlur:c,onSubmit:N=>{let n=new Headers;m(!0),n.append("Content-Type","application/json"),n.append("X-CSRF-TOKEN",f),fetch(route("password.email"),{method:"POST",headers:n,body:JSON.stringify(N)}).then(s=>s.json()).then(s=>{var d,u;s.status?(d=t.current)==null||d.show({severity:"success",summary:"Başarılı",detail:s.message}):(u=t.current)==null||u.show({severity:"error",summary:"Hata",detail:s.message})}).catch(()=>{var s;(s=t.current)==null||s.show({severity:"error",summary:"Hata",detail:"Bir hata oluştu lütfen tekrar deneyiniz."})}).finally(()=>{m(!1)})}});return r.useEffect(()=>{i>0&&x(!0)},[i]),e.jsxs(O,{children:[e.jsx(v,{title:"Şifremi Sıfırla"}),e.jsx(E,{ref:t}),e.jsx("div",{className:l("surface-ground h-screen w-screen flex align-items-center justify-content-center"),children:e.jsxs("form",{onSubmit:j,className:"surface-card py-7 px-5 sm:px-7 shadow-2 flex flex-column w-11 sm:w-30rem",style:{borderRadius:"14px"},children:[e.jsx("h1",{className:"font-bold text-2xl mt-0 mb-2",children:"Şifre Sıfırlama Formu"}),e.jsx("p",{className:"text-color-secondary",children:"Şifrenizi sıfırlamak için email adresinizi giriniz."}),e.jsxs("span",{className:"p-input-icon-left p-input-icon-right mb-3",children:[e.jsx("i",{className:l("pi pi-at",{"text-red-500":!!a.email,"text-green-500":a&&!a.email&&i>0})}),e.jsx(C,{type:"email",autoComplete:"off",name:"email",tooltip:a==null?void 0:a.email,tooltipOptions:{position:"top",event:"focus",className:"text-red-500"},disabled:o,className:l("w-full",{"p-invalid":!!a.email}),onChange:g,value:y.email,placeholder:"Email Adresiniz"}),e.jsx("i",{className:l("pi",{"pi-times-circle text-red-500":!!a.email,"pi-check-circle text-green-500":!a.email&&i>0})})]}),e.jsxs("span",{className:"text-color-secondary flex justify-content-between mb-4",children:[e.jsx(p,{href:route("login"),className:"text-color-secondary hover:text-color",children:"Giriş Yap"}),e.jsx(p,{href:route("register"),className:"text-color-secondary hover:text-color",children:"Kayıt Ol"})]}),e.jsx(S,{label:"Şifremi Sıfırla",className:"mb-4",disabled:!b,loading:o,type:"submit"})]})})]})};export{P as default};
