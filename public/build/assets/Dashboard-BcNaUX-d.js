import{C as H,r as a,P as _,d as L,m as V,c as A,L as B,R as T,j as e,B as C,y as P,Y as G}from"./app-C7EleN1e.js";import{P as K,a as W}from"./ProductService-C1fXCje7.js";import{M as O,D as Y}from"./message.esm-Du6wQAud.js";import{T as U,h as X,i as J,A as b}from"./ActiveOrder-DF_m-1lK.js";import{P as $,M as I}from"./PageContainer-qr8lGDRt.js";import{T as q}from"./toast.esm-BN5lusDT.js";import"./index.esm-_ilLBci6.js";import"./inputtext.esm-BYw-z8Ed.js";import"./sidebar.esm-iTNgTEj_.js";import"./PersonalInformation-eYgBsWoU.js";import"./inputmask.esm-Dk5gdYTK.js";import"./PersonalInformation-CRLTM9r0.js";import"./styleclass.esm-YNAeFSd1.js";function N(t){"@babel/helpers - typeof";return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},N(t)}function Q(t,s){if(N(t)!=="object"||t===null)return t;var l=t[Symbol.toPrimitive];if(l!==void 0){var r=l.call(t,s||"default");if(N(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function Z(t){var s=Q(t,"string");return N(s)==="symbol"?s:String(s)}function ee(t,s,l){return s=Z(s),s in t?Object.defineProperty(t,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[s]=l,t}var se={root:function(s){var l=s.props;return A("p-skeleton p-component",{"p-skeleton-circle":l.shape==="circle","p-skeleton-none":l.animation==="none"})}},te=`
@layer primereact {
    .p-skeleton {
        position: relative;
        overflow: hidden;
    }
    
    .p-skeleton::after {
        content: "";
        animation: p-skeleton-animation 1.2s infinite;
        height: 100%;
        left: 0;
        position: absolute;
        right: 0;
        top: 0;
        transform: translateX(-100%);
        z-index: 1;
    }
    
    .p-skeleton-circle {
        border-radius: 50%;
    }
    
    .p-skeleton-none::after {
        animation: none;
    }
}

@keyframes p-skeleton-animation {
    from {
        transform: translateX(-100%);
    }
    to {
        transform: translateX(100%);
    }
}
`,re={root:{position:"relative"}},S=H.extend({defaultProps:{__TYPE:"Skeleton",shape:"rectangle",size:null,width:"100%",height:"1rem",borderRadius:null,animation:"wave",style:null,className:null},css:{classes:se,inlineStyles:re,styles:te}});function D(t,s){var l=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);s&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),l.push.apply(l,r)}return l}function E(t){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?D(Object(l),!0).forEach(function(r){ee(t,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(l)):D(Object(l)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(l,r))})}return t}var z=a.memo(a.forwardRef(function(t,s){var l=a.useContext(_),r=S.getProps(t,l),o=S.setMetaData({props:r}),j=o.ptm,k=o.cx,d=o.sx,u=o.isUnstyled;L(S.css.styles,u,{name:"skeleton"});var p=a.useRef(null);a.useImperativeHandle(s,function(){return{props:r,getElement:function(){return p.current}}});var v=r.size?{width:r.size,height:r.size,borderRadius:r.borderRadius}:{width:r.width,height:r.height,borderRadius:r.borderRadius},f=V({ref:p,className:A(r.className,k("root")),style:E(E({},v),d("root")),"aria-hidden":!0},S.getOtherProps(r),j("root"));return a.createElement("div",f)}));z.displayName="Skeleton";const le=({csrfToken:t})=>{const s=a.useRef(null),[l,r]=a.useState(null),o=9;a.useContext(B);const[j,k]=a.useState(!1),[d,u]=a.useState(!0),[p,v]=a.useState(["","","",""]);a.useState({});const f=()=>{s!=null&&s.current&&(u(!0),X(s==null?void 0:s.current).then(n=>{J(n.latitude,n.longitude,t,o).then(i=>{var x;i.status?(v(i.orders),r(null)):(r(i.message),(x=s==null?void 0:s.current)==null||x.show({severity:"error",summary:"Hata",detail:i.message}))}).catch(i=>{var x;(x=s==null?void 0:s.current)==null||x.show({severity:"error",summary:"Hata",detail:"Siparişler Listelenirken Bir Hata Oluştu"})}).finally(()=>u(!1))}).catch(n=>{u(!1)}))},y=n=>{P.visit(route("courier.orders.reviewOrder",n))};return T.useEffect(()=>{f()},[s]),e.jsxs(e.Fragment,{children:[e.jsx(q,{ref:s}),e.jsxs("div",{className:"card h-full",children:[e.jsxs("h6",{className:"flex justify-content-between align-items-center",children:[e.jsxs("span",{children:["Yakın Siparişler(Konuma Göre) ",e.jsx(U,{value:"New",severity:"warning"})]}),e.jsx("div",{className:"flex gap-1",children:e.jsx(C,{icon:"pi pi-refresh",loading:d,tooltip:"Verileri Yenile",tooltipOptions:{position:"top"},onClick:f,raised:!0,size:"small"})})]}),l!==null&&e.jsx(O,{text:l,className:"w-full mb-3",severity:"error"}),j&&e.jsx(O,{text:"Konum Bilgisi Alınamadı",className:"w-full",severity:"error"}),!j&&e.jsxs("ul",{className:"list-none p-0 m-0 relative",children:[d&&Array.from({length:o}).map((n,i)=>e.jsx("li",{className:"mb-2 flex align-items-center",children:e.jsx("div",{className:"w-full",children:e.jsx(z,{width:"100%",height:"2rem"})})},i)),!d&&p.length>0&&e.jsxs("li",{className:"w-full px-2 mb-2 flex align-items-center justify-content-between font-semibold text-sm",children:[e.jsx("span",{className:"flex-1 text-left",children:"İşletme Adı"}),e.jsx("span",{className:"flex-1 text-center",children:"Paket Ücreti"}),e.jsx("span",{className:"flex-1 text-right",children:"İşletmeye Uzaklık"})]}),!d&&p.map((n,i)=>e.jsx("li",{onClick:()=>y(n.id),className:"mb-2 flex hover:text-primary-900 align-items-center hover:bg-primary-300 border-1 border-gray-400 cursor-pointer hover:border-primary transition-all transition-duration-400 h-2rem w-full px-2 py-4 border-round",children:e.jsxs("div",{className:"flex align-items-center justify-content-between w-full",children:[e.jsx("div",{className:"flex-1 font-semibold",children:n.business.name}),e.jsxs("div",{className:"text-center flex-1",children:[n.price," ₺"]}),e.jsxs("div",{className:"text-right flex-1 ",children:[n.distance,e.jsx("span",{className:"font-semibold",children:"km"})]})]})},i)),!d&&p.length!==o&&Array.from({length:o-p.length}).map((n,i)=>e.jsx("li",{className:"mb-2 flex align-items-center",children:e.jsx("div",{className:"ml-3 w-full h-2rem"})},i))]}),e.jsx(C,{type:"button",loading:d,className:"w-full mt-3",label:"Hepsini Görüntüle",onClick:()=>P.visit(route("courier.orders.newOrders")),icon:"pi pi-arrow-right",iconPos:"right"})]})]})};let g;function ge({auth:t,csrfToken:s,errors:l,courierIsTransporting:r=!1}){const{layoutConfig:o}=a.useContext(B),[j,k]=a.useState([]),[d,u]=a.useState(null),[p,v]=a.useState(null),[f,y]=a.useState(null),n=[{name:"Bu Hafta",code:"0"},{name:"Geçen Hafta",code:"1"}],i=()=>{y(n[0])},x=c=>{y(c.value);const m=[91,70,56,86,64],h=[52,70,55,68,79,56,74];c.value.code==="1"?g.datasets[0].data=h:g.datasets[0].data=m,g={...g}},R=()=>{const c=getComputedStyle(document.documentElement);c.getPropertyValue("--primary-color");const m=c.getPropertyValue("--primary-200");return{labels:["Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi","Pazar"],datasets:[{label:"Sipariş Adedi",data:[70,68,72,56,68,90,68],backgroundColor:["#007bff"],hoverBackgroundColor:[m],fill:!0,borderRadius:"3",borderSkipped:"top bottom",barPercentage:.25}]}},M=()=>{const c=getComputedStyle(document.documentElement);return c.getPropertyValue("--text-color-secondary"),c.getPropertyValue("--surface-border"),{labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{data:[11,17,30,60,88,92],borderColor:"rgba(25, 146, 212, 0.5)",pointBorderColor:"transparent",pointBackgroundColor:"transparent",fill:!1,tension:.4},{data:[11,19,39,59,69,71],borderColor:"rgba(25, 146, 212, 0.5)",pointBorderColor:"transparent",pointBackgroundColor:"transparent",fill:!1,tension:.4},{data:[11,17,21,30,47,83],backgroundColor:"rgba(25, 146, 212, 0.2)",borderColor:"rgba(25, 146, 212, 0.5)",pointBorderColor:"transparent",pointBackgroundColor:"transparent",fill:!0,tension:.4}]}},w=c=>`/demo/images/dashboard/${c}.svg`;return a.useEffect(()=>{i()},[]),a.useEffect(()=>{K.getProductsSmall().then(F=>k(F));const c=getComputedStyle(document.documentElement),m=c.getPropertyValue("--text-color-secondary"),h=c.getPropertyValue("--surface-border");g=R(),M(),u({plugins:{legend:{position:"bottom",align:"end",labels:{color:m}}},responsive:!0,maintainAspectRatio:!1,hover:{mode:"index"},scales:{y:{min:0,ticks:{stepSize:0,color:m},grid:{color:h}},x:{grid:{tickBorderDash:[2,2],display:!0,color:h},ticks:{color:m}}}}),v({plugins:{legend:{display:!1}},responsive:!0,maintainAspectRatio:!1,scales:{y:{grid:{color:h},max:100,min:0,ticks:{color:m}},x:{grid:{color:h},ticks:{color:m}}}})},[o]),e.jsx($,{auth:t,csrfToken:s,errors:l,courierIsTransporting:r,children:e.jsxs(I,{children:[e.jsx(G,{title:"Kurye Anasayfa"}),e.jsxs("div",{className:"grid",children:[e.jsx("div",{className:"col-12 lg:col-6 xl:col-3",children:e.jsxs("div",{className:"card p-0 overflow-hidden flex flex-column",children:[e.jsxs("div",{className:"flex align-items-center p-3",children:[e.jsx("i",{className:"pi pi-clock text-6xl text-blue-500"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("span",{className:"text-blue-500 block white-space-nowrap",children:"Ortalama Teslimat Süresi"}),e.jsx("span",{className:"text-blue-500 block text-4xl font-bold",children:"15.3dk"})]})]}),e.jsx("img",{src:w("users"),className:"w-full",alt:"users"})]})}),e.jsx("div",{className:"col-12 lg:col-6 xl:col-3",children:e.jsxs("div",{className:"card p-0 overflow-hidden flex flex-column",children:[e.jsxs("div",{className:"flex align-items-center p-3",children:[e.jsx("i",{className:"pi pi-turkish-lira text-6xl text-orange-500"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("span",{className:"text-orange-500 block white-space-nowrap",children:"Elde Edilen Kazanç"}),e.jsx("span",{className:"text-orange-500 block text-4xl font-bold",children:"436 ₺"})]})]}),e.jsx("img",{src:w("locations"),className:"w-full",alt:"locations"})]})}),e.jsx("div",{className:"col-12 lg:col-6 xl:col-3",children:e.jsxs("div",{className:"card h-full p-0 overflow-hidden flex flex-column",children:[e.jsxs("div",{className:"flex align-items-center p-3",children:[e.jsx("i",{className:"pi pi-box text-6xl text-purple-500"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("span",{className:"text-purple-500 block white-space-nowrap",children:"Teslim Edilen Sipariş Adedi"}),e.jsx("span",{className:"text-purple-500 block text-4xl font-bold",children:"5"})]})]}),e.jsx("img",{src:w("interactions"),className:"w-full mt-auto",alt:"interactions"})]})}),e.jsx("div",{className:"col-12 lg:col-6 xl:col-3",children:e.jsxs("div",{className:"card p-0 overflow-hidden flex flex-column",children:[e.jsxs("div",{className:"flex align-items-center p-3",children:[e.jsx("i",{className:"pi pi-bolt text-6xl text-green-500"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("span",{className:"text-green-500 block white-space-nowrap",children:"Siparişlerdeki Ortalama Hız"}),e.jsx("span",{className:"text-green-500 block text-4xl font-bold",children:"48.3km/h "})]})]}),e.jsx("img",{src:w("rate"),className:"w-full",alt:"conversion"})]})}),e.jsx("div",{className:"col-12 lg:col-6 xl:col-3",children:e.jsx(le,{csrfToken:s})}),e.jsx("div",{className:"col-12 lg:col-6 xl:col-3",children:e.jsxs("div",{className:"card h-full",children:[e.jsx("h5",{children:"Son Siparişler"}),e.jsxs("ul",{className:"list-none p-0 m-0",children:[e.jsxs("li",{className:"mb-4 flex align-items-center",children:[e.jsx(b,{label:"BÇ",size:"large",shape:"circle",className:"text-base font-bold",style:{backgroundColor:"rgba(101, 214, 173, 0.1)",color:"#27AB83",border:"1px solid #65D6AD"}}),e.jsx("div",{className:"ml-3",children:e.jsx("span",{className:"block",children:"Behzat Ç"})})]}),e.jsxs("li",{className:"mb-4 flex align-items-center",children:[e.jsx(b,{label:"AA",size:"large",shape:"circle",className:"text-base font-bold",style:{backgroundColor:"rgba(250, 219, 95, 0.1)",color:"#DE911D",border:"1px solid #FADB5F"}}),e.jsx("div",{className:"ml-3",children:e.jsx("span",{className:"block",children:"Adile Aydın"})})]}),e.jsxs("li",{className:"mb-4 flex align-items-center",children:[e.jsx(b,{label:"ECD",size:"large",shape:"circle",className:"text-base font-bold",style:{backgroundColor:"rgba(94, 208, 250, 0.1)",color:"#1992D4",border:"1px solid #5ED0FA"}}),e.jsx("div",{className:"ml-3",children:e.jsx("span",{className:"block",children:"Emir Can Değril"})})]}),e.jsxs("li",{className:"mb-4 flex align-items-center",children:[e.jsx(b,{label:"MÇ",size:"large",shape:"circle",className:"text-base font-bold",style:{backgroundColor:"rgba(250, 219, 95, 0.1)",color:"#DE911D",border:"1px solid #FADB5F"}}),e.jsx("div",{className:"ml-3",children:e.jsx("span",{className:"block",children:"Mehmet Ç"})})]}),e.jsxs("li",{className:"mb-4 flex align-items-center",children:[e.jsx(b,{label:"FM",size:"large",shape:"circle",className:"text-base font-bold",style:{backgroundColor:"rgba(94, 208, 250, 0.1)",color:"#1992D4",border:"1px solid #5ED0FA"}}),e.jsx("div",{className:"ml-3",children:e.jsx("span",{className:"block",children:"Furkan Mesal"})})]}),e.jsxs("li",{className:"mb-4 flex align-items-center",children:[e.jsx(b,{label:"MD",size:"large",shape:"circle",className:"text-base font-bold",style:{backgroundColor:"rgba(250, 219, 95, 0.1)",color:"#DE911D",border:"1px solid #FADB5F"}}),e.jsx("div",{className:"ml-3",children:e.jsx("span",{className:"block",children:"Mehmet Duran"})})]})]}),e.jsx(C,{type:"button",className:"w-full mt-3",label:"Hepsini Görüntüle",icon:"pi pi-arrow-right",iconPos:"right"})]})}),e.jsx("div",{className:"col-12 xl:col-6",children:e.jsxs("div",{className:"card h-full",children:[e.jsxs("div",{className:"flex justify-content-between align-items-center mb-3",children:[e.jsx("h5",{children:"Günlük Sipariş Grafiği"}),e.jsxs("div",{children:[e.jsx(Y,{options:n,value:f,onChange:x,optionLabel:"name"}),e.jsx(C,{icon:"pi pi-refresh",tooltip:"Verileri Yenile",tooltipOptions:{position:"top"},className:"ml-2",severity:"secondary",outlined:!0})]})]}),e.jsx("div",{className:"graph",children:e.jsx(W,{type:"bar",height:"400px",data:g,options:d})})]})})]})]})})}export{ge as default};
