import{r as o,j as r,L as $,w as ye,D as le,C as ce,P as ue,d as ve,m as I,c as T,O as B,q as U,b as re,y as z,T as _e,R as pe,g as De,U as He,k as Le,t as me,n as Be,u as W,B as he,E as $e,h as Fe}from"./app-C7KCH85h.js";import{P as Ke}from"./PersonalInformation-CFPCs-iQ.js";import{P as ze}from"./PersonalInformation-korKsWPp.js";import{F as Ue,I as Ye}from"./inputtext.esm-KLIqssz8.js";import{S as We}from"./styleclass.esm-BpUyAfSu.js";import{S as Xe}from"./sidebar.esm-t1zv9ION.js";import{C as Ve,a as qe,M as Je,S as Ge}from"./message.esm-Can9Yc15.js";import{A as Qe,C as Ze,k as et}from"./ActiveOrder-BzF7Xial.js";import{T as tt}from"./toast.esm-ChJ7o9Yf.js";const de=o.createContext({}),xe=e=>{const[t,s]=o.useState(""),a={activeMenu:t,setActiveMenu:s};return r.jsx(de.Provider,{value:a,children:e.children})},rt=({target:e,overlay:t,container:s,when:a})=>{const{isSlim:l,isSlimPlus:m,isHorizontal:c,setLayoutState:p}=o.useContext($),{activeMenu:u}=o.useContext(de),h=()=>{p(N=>({...N,overlayMenuActive:!1,overlaySubmenuActive:!1,staticMenuMobileActive:!1,menuHoverActive:!1,resetMenu:!0}))},[g,A]=ye({type:"scroll",target:s,listener:h}),P=()=>{if(t&&e){const{left:N,top:w}=e.getBoundingClientRect(),{width:E,height:n}=le.getViewport(),[f,O]=[t.offsetWidth,t.offsetHeight],j=le.calculateScrollbarWidth(s),R=document.querySelector(".layout-topbar"),C=(R==null?void 0:R.offsetHeight)||0;if(t.style.top=t.style.left="",c()){const d=N+f+j;t.style.left=E<d?`${N-(d-E)}px`:`${N}px`}else if(l()||m()){const d=w-C,b=d+O+C;t.style.top=n<b?`${d-(b-n)}px`:`${d}px`}}};o.useEffect(()=>(a&&g(),()=>{A()}),[a]),o.useEffect(()=>{a&&P()},[a,u])};function X(e){"@babel/helpers - typeof";return X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(e)}function nt(e,t){if(X(e)!=="object"||e===null)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(X(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function st(e){var t=nt(e,"string");return X(t)==="symbol"?t:String(t)}function je(e,t,s){return t=st(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var at={root:function(t){var s=t.props;return T("p-badge p-component",je({"p-badge-no-gutter":B.isNotEmpty(s.value)&&String(s.value).length===1,"p-badge-dot":B.isEmpty(s.value),"p-badge-lg":s.size==="large","p-badge-xl":s.size==="xlarge"},"p-badge-".concat(s.severity),s.severity!==null))}},ot=`
@layer primereact {
    .p-badge {
        display: inline-block;
        border-radius: 10px;
        text-align: center;
        padding: 0 .5rem;
    }
    
    .p-overlay-badge {
        position: relative;
    }
    
    .p-overlay-badge .p-badge {
        position: absolute;
        top: 0;
        right: 0;
        transform: translate(50%,-50%);
        transform-origin: 100% 0;
        margin: 0;
    }
    
    .p-badge-dot {
        width: .5rem;
        min-width: .5rem;
        height: .5rem;
        border-radius: 50%;
        padding: 0;
    }
    
    .p-badge-no-gutter {
        padding: 0;
        border-radius: 50%;
    }
}
`,ee=ce.extend({defaultProps:{__TYPE:"Badge",__parentMetadata:null,value:null,severity:null,size:null,style:null,className:null,children:void 0},css:{classes:at,styles:ot}});function fe(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),s.push.apply(s,a)}return s}function lt(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?fe(Object(s),!0).forEach(function(a){je(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):fe(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}var Se=o.memo(o.forwardRef(function(e,t){var s=o.useContext(ue),a=ee.getProps(e,s),l=ee.setMetaData(lt({props:a},a.__parentMetadata)),m=l.ptm,c=l.cx,p=l.isUnstyled;ve(ee.css.styles,p,{name:"badge"});var u=o.useRef(null);o.useImperativeHandle(t,function(){return{props:a,getElement:function(){return u.current}}});var h=I({ref:u,style:a.style,className:T(a.className,c("root"))},ee.getOtherProps(a),m("root"));return o.createElement("span",h,a.value)}));Se.displayName="Badge";const Ne=e=>{const{activeMenu:t,setActiveMenu:s}=o.useContext(de),{isSlim:a,isSlimPlus:l,isHorizontal:m,isDesktop:c,setLayoutState:p,layoutState:u,layoutConfig:h,openTab:g,tabs:A}=o.useContext($),P=window.location.href,N="useSearchParams()",w=o.useRef(null),E=o.useRef(null),n=e.item,f=e.parentKey?e.parentKey+"-"+e.index:String(e.index),O=n.to&&P===n.to,j=t===f||!!(t&&t.startsWith(f+"-"));rt({target:E.current,overlay:w.current,container:E.current&&E.current.closest(".layout-menu-container"),when:e.root&&j&&(a()||l()||m())&&c()}),o.useEffect(()=>{u.resetMenu&&(s(""),p(b=>({...b,resetMenu:!1})))},[u.resetMenu]),o.useEffect(()=>{!(a()||l()||m())&&O&&s(f);const b=P+N.toString();(()=>{!(a()||m())&&n.to&&n.to===b&&s(f)})()},[P,N,h]);const R=b=>{var v;if(n.disabled){b.preventDefault();return}if(e.root&&(a()||m()||l())){const y=b.currentTarget.closest(".layout-root-menuitem.active-menuitem > ul")!==null;p(y?D=>({...D,menuHoverActive:!0}):D=>({...D,menuHoverActive:!D.menuHoverActive}))}n!=null&&n.command&&(n==null||n.command({originalEvent:b,item:n})),b.metaKey&&(n!=null&&n.to)&&(!(n!=null&&n.data)||!((v=n==null?void 0:n.data)!=null&&v.fullPage))&&(z.visit(n.to),g(n),b.preventDefault()),n!=null&&n.items?(s(j?e.parentKey:f),e.root&&!j&&(a()||m()||l())&&p(y=>({...y,overlaySubmenuActive:!0}))):(c()||p(y=>({...y,staticMenuMobileActive:!y.staticMenuMobileActive})),(a()||l()||m())&&p(y=>({...y,menuHoverActive:!1})),s(f))},C=()=>{e.root&&(a()||m()||l())&&c()&&!j&&u.menuHoverActive&&s(f)},d=n!=null&&n.items&&(n==null?void 0:n.visible)!==!1?r.jsx("ul",{ref:w,className:T({"layout-root-submenulist":e.root}),children:n==null?void 0:n.items.map((b,v)=>r.jsx(Ne,{item:b,index:v,className:b.badgeClass,parentKey:f},b.label))}):null;return r.jsxs("li",{ref:E,className:T({"layout-root-menuitem":e.root,"active-menuitem":j}),children:[e.root&&(n==null?void 0:n.visible)!==!1&&r.jsx("div",{className:"layout-menuitem-root-text",children:r.jsx("span",{children:n==null?void 0:n.label})}),(!(n!=null&&n.to)||n!=null&&n.items)&&(n==null?void 0:n.visible)!==!1?r.jsx(r.Fragment,{children:r.jsxs("a",{href:n==null?void 0:n.url,onClick:b=>R(b),className:T(n==null?void 0:n.class,"p-ripple tooltip-target"),target:n==null?void 0:n.target,"data-pr-tooltip":n==null?void 0:n.label,"data-pr-disabled":!(a()&&e.root&&!u.menuHoverActive),tabIndex:0,onMouseEnter:C,children:[r.jsx("i",{className:T("layout-menuitem-icon",n==null?void 0:n.icon)}),r.jsx("span",{className:"layout-menuitem-text",children:n==null?void 0:n.label}),(n==null?void 0:n.items)&&r.jsx("i",{className:"pi pi-fw pi-angle-down layout-submenu-toggler"}),r.jsx(U,{})]})}):null,n!=null&&n.to&&!(n!=null&&n.items)&&(n==null?void 0:n.visible)!==!1?r.jsx(r.Fragment,{children:r.jsxs(re,{href:n==null?void 0:n.to,replace:n==null?void 0:n.replaceUrl,onClick:b=>R(b),className:T(n==null?void 0:n.class,"p-ripple ",{"active-route":O}),tabIndex:0,onMouseEnter:C,children:[r.jsx("i",{className:T("layout-menuitem-icon",n==null?void 0:n.icon)}),r.jsx("span",{className:"layout-menuitem-text",children:n==null?void 0:n.label}),(n==null?void 0:n.badge)&&r.jsx(Se,{value:n==null?void 0:n.badge,severity:"danger",className:"right-0 absolute "+((n==null?void 0:n.badgeClassName)??""),style:n==null?void 0:n.badgeStyle}),(n==null?void 0:n.items)&&r.jsx("i",{className:"pi pi-fw pi-angle-down layout-submenu-toggler"}),r.jsx(U,{})]})}):null,d]})},it=e=>{const{layoutState:t,setBreadcrumbs:s,auth:a}=o.useContext($),l=o.useRef(null);o.useEffect(()=>{l.current&&(l.current.hide(),l.current.updateTargetEvents())},[t.overlaySubmenuActive]),o.useEffect(()=>{m(e.model)},[]);const m=p=>{let u=[];const h=(g,A=[])=>{const{label:P,to:N,items:w}=g;P&&A.push(P),w&&w.forEach(E=>{h(E,A.slice())}),N&&u.push({labels:A,to:N})};p.forEach(g=>{h(g)}),s(u)},c=p=>{var g;let u=p.roles||["*"];if(u.includes("*"))return!0;let h=(g=a==null?void 0:a.user)==null?void 0:g.role;return h?u.includes(h):!1};return r.jsxs(xe,{children:[r.jsx("ul",{className:"layout-menu",children:e.model.map((p,u)=>c(p)?p.seperator?r.jsx("li",{className:"menu-separator"}):r.jsx(Ne,{item:p,root:!0,index:u},p.label):null)}),r.jsx(_e,{ref:l,target:"li:not(.active-menuitem)>.tooltip-target"})]})},ct=()=>{const e=[{label:"Anasayfa",icon:"pi pi-home",roles:["*"],items:[{label:"Anasayfa",icon:"pi pi-fw pi-home",to:route("dashboard")}]},{label:"Kuryeler",icon:"pi pi-users",roles:["admin"],items:[{label:"Yeni Ekle",icon:"pi pi-fw pi-user-plus",to:route("admin.couriers.create")},{label:"Onay Bekleyenler",icon:"pi pi-fw pi-clock",to:route("admin.couriers.waitApproval")},{label:"Kuryeler",icon:"pi pi-fw pi-users",to:route("admin.couriers.index")}]},{label:"İşletmeler",icon:"pi pi-shop",roles:["admin"],items:[{label:"Yeni Ekle",icon:"pi pi-fw pi-plus-circle",to:route("admin.businesses.create")},{label:"Onay Bekleyenler",icon:"pi pi-fw pi-clock",to:route("admin.businesses.waitApproval")},{label:"İşletmeler",icon:"pi pi-fw pi-home",to:route("admin.businesses.index")}]},{label:"Siparişler",icon:"pi pi-shopping-cart",roles:["admin"],items:[{label:"İptal İşlemleri",icon:"pi pi-fw pi-hourglass",to:route("admin.orders.cancellationRequests")},{label:"Siparişler",icon:"pi pi-fw pi-shopping-cart",to:route("admin.orders.index")}]},{label:"Müşteriler",icon:"pi pi-users",roles:["business"],items:[{label:"Müşteri Ekle",icon:"pi pi-fw pi-user-plus",to:route("business.customers.create")},{label:"Müşteriler",icon:"pi pi-fw pi-users",to:route("business.customers.index")}]},{label:"Siparişler",icon:"pi pi-shopping-cart",roles:["business"],items:[{label:"Sipariş Ekle",icon:"pi pi-fw pi-cart-plus",to:route("business.orders.create")},{label:"Siparişler",icon:"pi pi-fw pi-shopping-cart",to:route("business.orders.index")}]},{label:"Siparişler",icon:"pi pi-shopping-cart",roles:["courier"],items:[{label:"Yeni Siparişler",icon:"pi pi-fw pi-shopping-cart",to:route("courier.orders.newOrders")},{label:"Geçmiş Siparişler",icon:"pi pi-fw pi-history",to:route("courier.orders.pastOrders")}]}];return r.jsx(it,{model:e})},Ce=()=>(o.useContext($),r.jsx(pe.Fragment,{children:r.jsx("div",{className:"layout-menu-container",children:r.jsx(xe,{children:r.jsx(ct,{})})})}));Ce.displayName="AppSidebar";function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ne.apply(this,arguments)}function ie(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}function ut(e){if(Array.isArray(e))return ie(e)}function pt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function we(e,t){if(e){if(typeof e=="string")return ie(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return ie(e,t)}}function dt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mt(e){return ut(e)||pt(e)||we(e)||dt()}function V(e){"@babel/helpers - typeof";return V=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(e)}function ft(e,t){if(V(e)!=="object"||e===null)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(V(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bt(e){var t=ft(e,"string");return V(t)==="symbol"?t:String(t)}function gt(e,t,s){return t=bt(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function yt(e){if(Array.isArray(e))return e}function vt(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,l,m,c,p=[],u=!0,h=!1;try{if(m=(s=s.call(e)).next,t!==0)for(;!(u=(a=m.call(s)).done)&&(p.push(a.value),p.length!==t);u=!0);}catch(g){h=!0,l=g}finally{try{if(!u&&s.return!=null&&(c=s.return(),Object(c)!==c))return}finally{if(h)throw l}}return p}}function ht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function be(e,t){return yt(e)||vt(e,t)||we(e,t)||ht()}var xt={root:"p-accordion p-component",tab:{root:function(t){var s=t.selected;return T("p-accordion-tab",{"p-accordion-tab-active":s})},content:"p-accordion-content",header:function(t){var s=t.selected,a=t.getTabProp,l=t.tab;return T("p-accordion-header",{"p-highlight":s,"p-disabled":a(l,"disabled")})},headeraction:"p-accordion-header-link",headericon:"p-accordion-toggle-icon",headertitle:"p-accordion-header-text",toggleablecontent:"p-toggleable-content",transition:"p-toggleable-content"}},jt=`
@layer primereact {
    .p-accordion-header-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        user-select: none;
        position: relative;
        text-decoration: none;
    }
    
    .p-accordion-header-link:focus {
        z-index: 1;
    }
    
    .p-accordion-header-text {
        line-height: 1;
    }
}
`,te=ce.extend({defaultProps:{__TYPE:"Accordion",id:null,activeIndex:null,className:null,style:null,multiple:!1,expandIcon:null,collapseIcon:null,transitionOptions:null,onTabOpen:null,onTabClose:null,onTabChange:null,children:void 0},css:{classes:xt,styles:jt}}),F=ce.extend({defaultProps:{__TYPE:"AccordionTab",className:null,contentClassName:null,contentStyle:null,disabled:!1,header:null,headerClassName:null,headerStyle:null,headerTemplate:null,style:null,tabIndex:0,children:void 0},getCProp:function(t,s){return B.getComponentProp(t,s,F.defaultProps)},getCProps:function(t){return B.getComponentProps(t,F.defaultProps)},getCOtherProps:function(t){return B.getComponentDiffProps(t,F.defaultProps)}});function ge(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),s.push.apply(s,a)}return s}function K(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?ge(Object(s),!0).forEach(function(a){gt(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ge(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}var Pe=function(){},Te=o.forwardRef(function(e,t){var s=o.useContext(ue),a=te.getProps(e,s),l=o.useState(a.id),m=be(l,2),c=m[0],p=m[1],u=o.useState(a.activeIndex),h=be(u,2),g=h[0],A=h[1],P=o.useRef(null),N=a.onTabChange?a.activeIndex:g,w=o.Children.count(a.children),E={props:a,state:{id:c,activeIndex:g}},n=te.setMetaData(K({},E)),f=n.ptm,O=n.ptmo,j=n.cx;n.sx;var R=n.isUnstyled;ve(te.css.styles,R,{name:"accordion"});var C=function(i,S,x){F.getCProps(i);var k={parent:E,context:{index:x,count:w,first:x===0,last:x===w-1,selected:v(x),disabled:d(i,"disabled")}};return I(f("accordiontab.".concat(S),{accordiontab:k}),f("accordiontab.".concat(S),k),O(i.props,S,k))},d=function(i,S){return F.getCProp(i,S)},b=function(i,S,x){if(!d(S,"disabled")){var k=v(x),_=null;if(a.multiple){var H=N||[];_=k?H.filter(function(Y){return Y!==x}):[].concat(mt(H),[x])}else _=k?null:x;var L=k?a.onTabClose:a.onTabOpen;L&&L({originalEvent:i,index:x}),a.onTabChange?a.onTabChange({originalEvent:i,index:_}):A(_)}i.preventDefault()},v=function(i){return a.multiple?N&&N.some(function(S){return S===i}):N===i};if(o.useImperativeHandle(t,function(){return{props:a,getElement:function(){return P.current}}}),De(function(){c||p(He())}),!c)return null;var y=function(i,S,x){var k=K(K({},d(i,"style")||{}),d(i,"headerStyle")||{}),_=c+"_header_"+x,H=c+"_content_"+x,L=d(i,"disabled")?-1:d(i,"tabIndex"),Y=I({className:j("tab.headertitle")},C(i,"headertitle",x)),Z=F.getCProps(i),se=d(i,"headerTemplate")?B.getJSXElement(d(i,"headerTemplate"),Z):o.createElement("span",Y,B.getJSXElement(d(i,"header"),Z)),ae=I({className:j("tab.headericon")},C(i,"headericon",x)),Oe=S?a.collapseIcon||o.createElement(Ve,ae):a.expandIcon||o.createElement(qe,ae),Ee=Le.getJSXIcon(Oe,K({},ae),{props:a,selected:S}),Re=S?me("collapseLabel"):me("expandLabel"),ke=I({className:T(d(i,"headerClassName"),d(i,"className"),j("tab.header",{selected:S,getTabProp:d,tab:i})),style:k,"data-p-highlight":S,"data-p-disabled":d(i,"disabled")},C(i,"tab.header",x)),Me=I({id:_,href:"#"+H,className:j("tab.headeraction"),role:"tab",tabIndex:L,onClick:function(Ie){return b(Ie,i,x)},"aria-label":Re,"aria-controls":H,"aria-expanded":S},C(i,"headeraction",x));return o.createElement("div",ke,o.createElement("a",Me,Ee,se))},D=function(i,S,x){var k=K(K({},d(i,"style")||{}),d(i,"contentStyle")||{}),_=c+"_content_"+x,H=c+"_header_"+x,L=o.createRef(),Y=I({id:_,ref:L,className:T(d(i,"contentClassName"),d(i,"className"),j("tab.toggleablecontent")),style:k,role:"region","aria-labelledby":H},C(i,"toggleablecontent",x)),Z=I({className:j("tab.content")},C(i,"content",x)),se=I({classNames:j("tab.transition"),timeout:{enter:1e3,exit:450},in:S,unmountOnExit:!0,options:a.transitionOptions},C(i,"transition",x));return o.createElement(Be,ne({nodeRef:L},se),o.createElement("div",Y,o.createElement("div",Z,d(i,"children"))))},q=function(i,S){if(B.isValidChild(i,"AccordionTab")){var x=c+"_"+S,k=v(S),_=y(i,k,S),H=D(i,k,S),L=I({key:x,className:j("tab.root",{selected:k})},F.getCOtherProps(i),C(i,"root",S));return o.createElement("div",L,_,H)}return null},J=function(){return o.Children.map(a.children,q)},G=J(),Q=I({className:T(a.className,j("root")),style:a.style},te.getOtherProps(a),f("root"));return o.createElement("div",ne({id:c,ref:P},Q),G)});Pe.displayName="AccordionTab";Te.displayName="Accordion";const St="/build/assets/trendyol-_Of2X5-d.svg",Bt=async e=>{let t=route("business.integrations.getIntegrations"),s=new Headers;return s.append("X-CSRF-TOKEN",e),s.append("Content-Type","application/json"),await(await fetch(t,{method:"POST",headers:s})).json()},$t=async(e,t)=>{let s=route("business.integrations.saveTrendyolSettings"),a=new Headers;return a.append("X-CSRF-TOKEN",t),a.append("Content-Type","application/json"),await(await fetch(s,{method:"POST",headers:a,body:JSON.stringify(e)})).json()},Nt=async e=>{let t=route("business.integrations.getTrendyolRestaurantInfo"),s=new Headers;return s.append("X-CSRF-TOKEN",e),s.append("Content-Type","application/json"),await(await fetch(t,{method:"POST",headers:s})).json()},Ct=async(e,t)=>{let s=route("business.integrations.updateWorkingStatusTrendyol"),a=new Headers;return a.append("X-CSRF-TOKEN",t),a.append("Content-Type","application/json"),await(await fetch(s,{method:"POST",headers:a,body:JSON.stringify({workingStatus:e})})).json()},wt=({csrfToken:e,visible:t,setVisible:s})=>{const[a,l]=W(null,"businessRestaurantInfoActiveIndex"),m=o.useRef(null),[c,p]=o.useState(!1),[u,h]=W(null,"businessRestaurantInfoLastSyncDate"),[g,A]=W(!1,"businessRestaurantInfoTrendyolSettings"),[P,N]=W(!1,"businessRestaurantInfoGetirSettings"),[w,E]=W(!1,"businessRestaurantInfoYemeksepetiSettings"),n=()=>{p(!0),Nt(e).then(f=>{var O;f.status?(A(f.data),h(new Date().toISOString())):(A(!1),(O=m.current)==null||O.show({severity:"error",summary:"Hata",detail:f.message}))}).finally(()=>{p(!1)})};return o.useEffect(()=>{(u&&new Date().getTime()-new Date(u).getTime()>3e5||u===null)&&n();let f=setInterval(()=>{u&&new Date().getTime()-new Date(u).getTime()>3e5&&n()},1e3);return()=>{clearInterval(f)}},[t]),r.jsxs(Xe,{visible:t,position:"right",onHide:()=>s(!1),className:"w-full md:w-20rem lg:w-30rem",header:r.jsx("span",{className:"text-lg font-semibold",children:"Restoran Ayarları"}),icons:r.jsx("button",{className:"p-sidebar-icon p-link mr-2",onClick:()=>n(),children:r.jsx("span",{className:T("pi pi-sync",{"pi-spin":c})})}),children:[r.jsx(tt,{ref:m}),!P&&!g&&!w&&r.jsx(Je,{severity:"warn",text:"Listelenecek restoran ayarı bulunamadı.",className:"w-full"}),r.jsx(Te,{activeIndex:a,onTabChange:f=>{l(f.index)},children:g!==null&&r.jsx(Pe,{header:r.jsxs("span",{className:"flex align-items-center gap-2 w-full",children:[r.jsx(Qe,{image:St,size:"large"}),r.jsx("span",{className:"font-bold white-space-nowrap",children:g.name})]}),children:r.jsxs("div",{className:"flex flex-column gap-2",children:[r.jsx(Ue,{initialValues:{workingStatus:(g==null?void 0:g.workingStatus)==="OPEN"?"Açık":"Kapalı"},onSubmit:(f,{setSubmitting:O,setValues:j,resetForm:R})=>{let C=f.workingStatus==="Açık"?"OPEN":"CLOSED";O(!0),Ct(C,e).then(d=>{var b,v;d.status?((b=m.current)==null||b.show({severity:"success",summary:"Başarılı",detail:d.message}),R({values:{workingStatus:C==="OPEN"?"Açık":"Kapalı"}}),n()):(v=m.current)==null||v.show({severity:"error",summary:"Hata",detail:d.message})}).catch(d=>{var b;console.log(d),(b=m.current)==null||b.show({severity:"error",summary:"Hata",detail:"Bir hata oluştu."})}).finally(()=>{O(!1)})},children:f=>r.jsxs("form",{onSubmit:f.handleSubmit,children:[r.jsx("div",{className:"font-semibold mb-2",children:"Restoran Durumu"}),r.jsx(Ge,{disabled:f.isSubmitting,allowEmpty:!1,options:["Açık","Kapalı"],onChange:O=>{f.setFieldValue("workingStatus",O.value)},value:f.values.workingStatus}),f.dirty&&r.jsx(he,{label:"Kaydet",icon:"pi pi-save",loading:f.isSubmitting,type:"submit",severity:"success",className:"mt-2",size:"small"})]})}),r.jsxs("div",{className:"flex justify-between gap-2",children:[r.jsx("span",{className:"font-semibold",children:"Son Senkronizasyon"}),r.jsx("span",{children:u?new Date(u).toLocaleString():"Bilgi Yok"})]})]})})})]})},Ae=o.forwardRef((e,t)=>{var R,C,d,b;const{onMenuToggle:s,layoutConfig:a,tabs:l,closeTab:m,auth:c,csrfToken:p}=o.useContext($),[u,h]=o.useState(!1),g=window.location.pathname,A=o.useRef(null),P=o.useRef(null),N=()=>{s()},w=()=>{h(!0),setTimeout(()=>{const v=document.querySelector(".searchInput");v==null||v.focus()},100)},E=()=>{h(!1)};o.useImperativeHandle(t,()=>({menubutton:A.current}));const n=()=>{const v="/layout/images/logo-";let y;return a.layoutTheme==="primaryColor"&&a.theme!=="yellow"?y="light.png":y=a.colorScheme==="light"?"dark.png":"light.png",v+y};o.useEffect(()=>{n()},[]);const f=v=>{l.length>1?v===(l==null?void 0:l.length)-1?z.visit(l==null?void 0:l[l.length-2].to):z.visit(l==null?void 0:l[v+1].to):z.visit("/"),m(v)},[O,j]=o.useState(!1);return r.jsxs("div",{className:"layout-topbar",children:[r.jsx(re,{href:route("dashboard"),className:"app-logo",children:r.jsx("img",{alt:"app logo",src:n()})}),r.jsx(wt,{csrfToken:p,visible:O,setVisible:j}),r.jsx("button",{ref:A,className:"topbar-menubutton p-link",type:"button",onClick:N,children:r.jsx("span",{})}),r.jsx("ul",{className:"topbar-menu",children:l.map((v,y)=>r.jsxs("li",{children:[r.jsx(re,{href:v.to,className:T({"active-route":v.to===g}),children:r.jsx("span",{children:v.label})}),r.jsx("i",{className:"pi pi-times",onClick:()=>f(y)})]},y))}),((R=c==null?void 0:c.user)==null?void 0:R.role)==="business"&&r.jsx("div",{className:T("topbar-search"),children:r.jsx(he,{rounded:!0,icon:"pi pi-cog",raised:!0,tooltip:"Restoran Ayarları",tooltipOptions:{position:"bottom"},severity:"secondary",size:"small",onClick:()=>{j(!0)}})}),u===!0&&r.jsxs("div",{className:T("topbar-search",{"topbar-search-active":u}),children:[r.jsx("button",{className:"topbar-searchbutton p-link",onClick:w,children:r.jsx("i",{className:"pi pi-search"})}),r.jsx("div",{className:"search-input-wrapper",children:r.jsxs("span",{className:"p-input-icon-right",children:[r.jsx(Ye,{className:"searchInput",type:"text",placeholder:"Search",onBlur:E}),r.jsx("i",{className:"pi pi-search"})]})})]}),r.jsxs("div",{className:"topbar-profile",children:[r.jsx(We,{nodeRef:P,selector:"@next",enterClassName:"hidden",enterActiveClassName:"scalein",leaveToClassName:"hidden",leaveActiveClassName:"fadeout",hideOnOutsideClick:!0,children:r.jsxs("button",{ref:P,className:"topbar-profile-button p-link",type:"button",children:[r.jsx("img",{alt:"avatar",src:"/demo/images/avatar/onyamalimba.png"}),r.jsxs("span",{className:"profile-details",children:[r.jsx("span",{className:"profile-name",children:(C=c==null?void 0:c.user)==null?void 0:C.name}),r.jsx("span",{className:"profile-job",children:(d=c==null?void 0:c.user)==null?void 0:d.role})]}),r.jsx("i",{className:"pi pi-angle-down"})]})}),r.jsx("ul",{className:"list-none p-3 m-0 border-round shadow-2 hidden absolute surface-overlay origin-top w-full sm:w-12rem mt-2 right-0 top-auto",children:r.jsxs("li",{children:[r.jsxs("a",{onClick:()=>{z.visit(route("profile.edit"))},className:"p-ripple flex p-2 border-round align-items-center hover:surface-hover transition-colors transition-duration-150 cursor-pointer",children:[r.jsx("i",{className:"pi pi-user mr-3"}),r.jsx("span",{children:"Profil"}),r.jsx(U,{})]}),((b=c==null?void 0:c.user)==null?void 0:b.role)==="business"&&r.jsxs("a",{onClick:()=>{z.visit(route("business.integrations.show"))},className:"p-ripple flex p-2 border-round align-items-center hover:surface-hover transition-colors transition-duration-150 cursor-pointer",children:[r.jsx("i",{className:"pi pi-th-large mr-3"}),r.jsx("span",{children:"Entegrasyonlar"}),r.jsx(U,{})]}),r.jsxs("a",{className:"p-ripple flex p-2 border-round align-items-center hover:surface-hover transition-colors transition-duration-150 cursor-pointer",children:[r.jsx("i",{className:"pi pi-cog mr-3"}),r.jsx("span",{children:"Ayarlar"}),r.jsx(U,{})]}),r.jsxs("a",{onClick:()=>{window.location.href=route("auth.logout")},className:"p-ripple flex p-2 border-round align-items-center hover:surface-hover transition-colors transition-duration-150 cursor-pointer",children:[r.jsx("i",{className:"pi pi-power-off mr-3"}),r.jsx("span",{children:"Çıkış Yap"}),r.jsx(U,{})]})]})})]})]})});Ae.displayName="AppTopbar";const Pt=e=>{var m;const t=window.location.href,[s,a]=o.useState(null),{breadcrumbs:l}=o.useContext($);return o.useEffect(()=>{const c=l==null?void 0:l.find(p=>{var u;return((u=p.to)==null?void 0:u.replace(/\/$/,""))===t.replace(/\/$/,"")});a(c??null)},[t,l]),r.jsx("div",{className:e.className,children:r.jsx("nav",{className:"layout-breadcrumb",children:r.jsxs("ol",{children:[r.jsx("li",{children:r.jsx(re,{href:route("dashboard"),style:{color:"inherit"},children:r.jsx("i",{className:"pi pi-home"})})}),r.jsx("li",{className:"layout-breadcrumb-chevron",children:" / "}),B.isNotEmpty(s)&&t!=="/"?(m=s==null?void 0:s.labels)==null?void 0:m.map((c,p)=>r.jsxs(pe.Fragment,{children:[p!==0&&r.jsx("li",{className:"layout-breadcrumb-chevron",children:" / "}),r.jsx("li",{children:c},p)]},p)):r.jsxs(r.Fragment,{children:[t==="/"&&r.jsx("li",{children:"SaaS Dashboard"},"home"),t==="/dashboard-sales"&&r.jsx("li",{children:"Sales Dashboard"},"banking")]})]})})})},Tt=()=>{const{layoutConfig:e}=o.useContext($);return r.jsxs("div",{className:"layout-footer mt-auto",children:[r.jsx("div",{className:"footer-start",children:r.jsx("img",{src:"/layout/images/logo-"+(e.colorScheme==="light"?"dark":"light")+".png",alt:"logo"})}),r.jsx("div",{className:"footer-right",children:r.jsx("span",{children:"© Your Organization"})})]})},At=e=>{const{layoutConfig:t,layoutState:s,setLayoutState:a,setLayoutConfig:l,isSlim:m,isSlimPlus:c,isHorizontal:p,isDesktop:u,isSidebarActive:h}=o.useContext($);o.useContext(ue);const g=o.useRef(null),A=o.useRef(null),P="usePathname()",N="useSearchParams()";let w=null;const[E,n]=ye({type:"click",listener:y=>{var q,J,G,Q,M,i;!((q=A.current)!=null&&q.isSameNode(y.target)||(J=A.current)!=null&&J.contains(y.target)||(Q=(G=g.current)==null?void 0:G.menubutton)!=null&&Q.isSameNode(y.target)||(i=(M=g.current)==null?void 0:M.menubutton)!=null&&i.contains(y.target))&&j()}}),[f,O]=$e({listener:()=>{u()&&!le.isTouchDevice()&&j()}}),j=o.useCallback(()=>{a(y=>({...y,overlayMenuActive:!1,overlaySubmenuActive:!1,staticMenuMobileActive:!1,menuHoverActive:!1,resetMenu:(m()||c()||p())&&u()}))},[m,p,u]),R=()=>{document.body.classList?document.body.classList.add("blocked-scroll"):document.body.className+=" blocked-scroll"},C=()=>{document.body.classList?document.body.classList.remove("blocked-scroll"):document.body.className=document.body.className.replace(new RegExp("(^|\\b)"+"blocked-scroll".split(" ").join("|")+"(\\b|$)","gi")," ")},d=()=>{s.anchored||(w&&(clearTimeout(w),w=null),a(y=>({...y,sidebarActive:!0})))},b=()=>{s.anchored||w||(w=setTimeout(()=>a(y=>({...y,sidebarActive:!1})),300))};o.useEffect(()=>{(()=>{t.colorScheme==="dark"&&l(D=>({...D,menuTheme:"dark"}))})()},[P,N]),o.useEffect(()=>(h()&&E(),s.staticMenuMobileActive&&(R(),(m()||c()||p())&&f()),()=>{n(),O(),C()}),[s.overlayMenuActive,s.staticMenuMobileActive,s.overlaySubmenuActive]),o.useEffect(()=>{(()=>{j()})()},[P,N]),Fe(()=>{n()});const v=T({"layout-slim":t.menuMode==="slim","layout-slim-plus":t.menuMode==="slim-plus","layout-static":t.menuMode==="static","layout-overlay":t.menuMode==="overlay","layout-overlay-active":s.overlayMenuActive,"layout-mobile-active":s.staticMenuMobileActive,"layout-static-inactive":s.staticMenuDesktopInactive&&t.menuMode==="static","p-input-filled":t.inputStyle==="filled","p-ripple-disabled":!t.ripple,"layout-light":t.layoutTheme==="colorScheme"&&t.colorScheme==="light","layout-dark":t.layoutTheme==="colorScheme"&&t.colorScheme==="dark","layout-primary":t.colorScheme!=="dark"&&t.layoutTheme==="primaryColor"});return r.jsxs(pe.Fragment,{children:[r.jsx(Ze,{}),r.jsxs("div",{className:T("layout-container",v),children:[r.jsx(Ae,{ref:g}),r.jsx("div",{ref:A,className:"layout-sidebar",onMouseEnter:d,onMouseLeave:b,children:r.jsx(Ce,{})}),r.jsx("div",{className:"layout-content-wrapper",children:r.jsx("div",{className:"layout-content",children:r.jsxs("div",{className:"layout-content-inner",children:[r.jsx(Pt,{}),e.children,r.jsx(Tt,{})]})})})]})]})};function oe({children:e}){return r.jsx(r.Fragment,{children:r.jsx(At,{children:e})})}const Ft=({auth:e,csrfToken:t,errors:s=[],children:a,profilePage:l=!1,courierIsTransporting:m=!1})=>{var u,h,g;const{setAuth:c,setCsrfToken:p}=o.useContext($);return o.useEffect(()=>{c(e),p(t)},[e,t]),r.jsxs(r.Fragment,{children:[((u=e==null?void 0:e.user)==null?void 0:u.role)==="courier"&&r.jsx(r.Fragment,{children:!l&&(e==null?void 0:e.profile_approved)===0||!l&&(e==null?void 0:e.profile_approved)===!1?r.jsx(oe,{children:r.jsx(Ke,{page:!0,profileCompleted:e==null?void 0:e.profile_completed,profileApproved:e==null?void 0:e.profile_approved,csrfToken:t})}):r.jsx(r.Fragment,{children:m?r.jsx(oe,{children:r.jsx(et,{auth:e,csrfToken:t})}):a})}),((h=e==null?void 0:e.user)==null?void 0:h.role)==="business"&&r.jsx(r.Fragment,{children:!l&&(e==null?void 0:e.profile_approved)===0||!l&&(e==null?void 0:e.profile_approved)===!1?r.jsx(oe,{children:r.jsx(ze,{page:!0,profileCompleted:e==null?void 0:e.profile_completed,profileApproved:e==null?void 0:e.profile_approved,csrfToken:t})}):r.jsx(r.Fragment,{children:a})}),((g=e==null?void 0:e.user)==null?void 0:g.role)==="admin"&&r.jsx(r.Fragment,{children:a})]})};export{Te as A,oe as M,Ft as P,Pe as a,Bt as b,Nt as g,$t as s,St as t};
